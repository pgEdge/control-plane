[
  [
    [
      {
        "type": "create",
        "resource_id": "orchestrator.resource::n1-instance-1-dep-2-id",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "update",
        "resource_id": "database.instance::n1-instance-1-id",
        "reason": "dependency_updated",
        "diff": null
      }
    ],
    [
      {
        "type": "update",
        "resource_id": "database.node::n1",
        "reason": "dependency_updated",
        "diff": null
      },
      {
        "type": "update",
        "resource_id": "monitor.instance::n1-instance-1-id",
        "reason": "dependency_updated",
        "diff": null
      }
    ]
  ],
  [
    [
      {
        "type": "create",
        "resource_id": "orchestrator.resource::n3-instance-1-dep-1-id",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "create",
        "resource_id": "database.instance::n3-instance-1-id",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "create",
        "resource_id": "database.node::n3",
        "reason": "does_not_exist",
        "diff": null
      },
      {
        "type": "create",
        "resource_id": "monitor.instance::n3-instance-1-id",
        "reason": "does_not_exist",
        "diff": null
      }
    ]
  ],
  [
    [
      {
        "type": "create",
        "resource_id": "database.replication_slot::n1n3",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "create",
        "resource_id": "database.subscription::n1n3",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "create",
        "resource_id": "database.sync_event::n1n3",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "create",
        "resource_id": "database.wait_for_sync_event::n1n3",
        "reason": "does_not_exist",
        "diff": null
      }
    ]
  ],
  [
    [
      {
        "type": "create",
        "resource_id": "database.replication_slot::n3n1",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "update",
        "resource_id": "database.subscription::n1n3",
        "reason": "has_diff",
        "diff": [
          {
            "value": false,
            "op": "replace",
            "path": "/sync_data"
          },
          {
            "value": false,
            "op": "replace",
            "path": "/sync_structure"
          }
        ]
      },
      {
        "type": "create",
        "resource_id": "database.subscription::n3n1",
        "reason": "does_not_exist",
        "diff": null
      }
    ],
    [
      {
        "type": "delete",
        "resource_id": "database.subscription::n1n2",
        "diff": null
      },
      {
        "type": "delete",
        "resource_id": "database.subscription::n2n1",
        "diff": null
      },
      {
        "type": "delete",
        "resource_id": "database.wait_for_sync_event::n1n3",
        "diff": null
      },
      {
        "type": "delete",
        "resource_id": "monitor.instance::n2-instance-1-id",
        "diff": null
      }
    ],
    [
      {
        "type": "delete",
        "resource_id": "database.replication_slot::n1n2",
        "diff": null
      },
      {
        "type": "delete",
        "resource_id": "database.replication_slot::n2n1",
        "diff": null
      },
      {
        "type": "delete",
        "resource_id": "database.sync_event::n1n3",
        "diff": null
      }
    ],
    [
      {
        "type": "delete",
        "resource_id": "database.node::n2",
        "diff": null
      }
    ],
    [
      {
        "type": "delete",
        "resource_id": "database.instance::n2-instance-1-id",
        "diff": null
      }
    ],
    [
      {
        "type": "delete",
        "resource_id": "orchestrator.resource::n2-instance-1-dep-1-id",
        "diff": null
      }
    ]
  ]
]