{"swagger":"2.0","info":{"title":"pgEdge Control Plane v1 API","description":"Service for creating, modifying, and operating pgEdge databases.","version":"v0.1.0"},"host":"localhost:3000","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/v1/cluster":{"get":{"tags":["Cluster"],"summary":"Get cluster","description":"Returns information about the cluster.","operationId":"control-plane#get-cluster","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/Cluster","required":["id","tenant_id","status","hosts"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/cluster/init":{"get":{"tags":["Cluster"],"summary":"Initialize cluster","description":"Initializes a new cluster.","operationId":"control-plane#init-cluster","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/ClusterJoinToken","required":["token","server_url"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/cluster/join":{"post":{"tags":["Cluster"],"summary":"Join cluster","description":"Joins this host to an existing cluster.","operationId":"control-plane#join-cluster","parameters":[{"name":"Join-ClusterRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/ClusterJoinToken","required":["token","server_url"]}}],"responses":{"204":{"description":"No Content response."},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/cluster/join-token":{"get":{"tags":["Cluster"],"summary":"Get cluster join token","description":"Gets the join token for this cluster.","operationId":"control-plane#get-join-token","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/ClusterJoinToken","required":["token","server_url"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases":{"get":{"tags":["Database"],"summary":"List databases","description":"Lists all databases in the cluster.","operationId":"control-plane#list-databases","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/ControlPlaneDatabaseResponseAbbreviatedCollection"}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]},"post":{"tags":["Database"],"summary":"Create database","description":"Creates a new database in the cluster.","operationId":"control-plane#create-database","parameters":[{"name":"Create-DatabaseRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateDatabaseRequest","required":["spec"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/CreateDatabaseResponse","required":["task","database"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases/{database_id}":{"get":{"tags":["Database"],"summary":"Get database","description":"Returns information about a particular database in the cluster.","operationId":"control-plane#get-database","parameters":[{"name":"database_id","in":"path","description":"ID of the database to get.","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/ControlPlaneGetDatabaseResponseBody"}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]},"post":{"tags":["Database"],"summary":"Update database","description":"Updates a database with the given specification.","operationId":"control-plane#update-database","parameters":[{"name":"force_update","in":"query","description":"Force update the database even if the spec is the same.","required":false,"type":"boolean","default":false},{"name":"database_id","in":"path","description":"ID of the database to update.","required":true,"type":"string","format":"uuid"},{"name":"Update-DatabaseRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UpdateDatabaseRequest"}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UpdateDatabaseResponse","required":["task","database"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]},"delete":{"tags":["Database"],"summary":"Delete database","description":"Deletes a database from the cluster.","operationId":"control-plane#delete-database","parameters":[{"name":"database_id","in":"path","description":"ID of the database to delete.","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/DeleteDatabaseResponse","required":["task"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases/{database_id}/nodes/{node_name}/backups":{"post":{"tags":["Database"],"summary":"Backup database node","description":"Initiates a backup for a database node.","operationId":"control-plane#backup-database-node","parameters":[{"name":"database_id","in":"path","description":"ID of the database to back up.","required":true,"type":"string","format":"uuid"},{"name":"node_name","in":"path","description":"Name of the node to back up.","required":true,"type":"string","pattern":"n[0-9]+"},{"name":"Backup-Database-NodeRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/BackupOptions"}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/BackupDatabaseNodeResponse","required":["task"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases/{database_id}/restore":{"post":{"tags":["Database"],"summary":"Restore database","description":"Perform an in-place restore one or more nodes using the given restore configuration.","operationId":"control-plane#restore-database","parameters":[{"name":"database_id","in":"path","description":"ID of the database to restore.","required":true,"type":"string","format":"uuid"},{"name":"Restore-DatabaseRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/RestoreDatabaseRequest"}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/RestoreDatabaseResponse","required":["task","node_tasks","database"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases/{database_id}/tasks":{"get":{"tags":["Database"],"summary":"List database tasks","description":"Lists all tasks for a database.","operationId":"control-plane#list-database-tasks","parameters":[{"name":"after_task_id","in":"query","description":"ID of the task to start from.","required":false,"type":"string","format":"uuid"},{"name":"limit","in":"query","description":"Maximum number of tasks to return.","required":false,"type":"integer"},{"name":"sort_order","in":"query","description":"Sort order for the tasks.","required":false,"type":"string","enum":["asc","ascend","ascending","desc","descend","descending"]},{"name":"database_id","in":"path","description":"ID of the database to list tasks for.","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/Task"}}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases/{database_id}/tasks/{task_id}":{"get":{"tags":["Database"],"summary":"Get database task","description":"Returns information about a particular task.","operationId":"control-plane#get-database-task","parameters":[{"name":"database_id","in":"path","description":"ID of the database the task belongs to.","required":true,"type":"string","format":"uuid"},{"name":"task_id","in":"path","description":"ID of the task to get.","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/Task","required":["database_id","task_id","created_at","type","status"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/databases/{database_id}/tasks/{task_id}/log":{"get":{"tags":["Database"],"summary":"Get database task log","description":"Returns the log of a particular task for a database.","operationId":"control-plane#get-database-task-log","parameters":[{"name":"after_entry_id","in":"query","description":"ID of the entry to start from.","required":false,"type":"string","format":"uuid"},{"name":"limit","in":"query","description":"Maximum number of entries to return.","required":false,"type":"integer"},{"name":"database_id","in":"path","description":"ID of the database to get task log for.","required":true,"type":"string","format":"uuid"},{"name":"task_id","in":"path","description":"ID of the task to get log for.","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/TaskLog","required":["database_id","task_id","task_status","entries"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/hosts":{"get":{"tags":["Host"],"summary":"List hosts","description":"Lists all hosts within the cluster.","operationId":"control-plane#list-hosts","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/Host"}}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/hosts/{host_id}":{"get":{"tags":["Host"],"summary":"Get host","description":"Returns information about a particular host in the cluster.","operationId":"control-plane#get-host","parameters":[{"name":"host_id","in":"path","description":"ID of the host to get.","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/Host","required":["id","orchestrator","hostname","ipv4_address","status"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]},"delete":{"tags":["Host"],"summary":"Remove host","description":"Removes a host from the cluster.","operationId":"control-plane#remove-host","parameters":[{"name":"host_id","in":"path","description":"ID of the host to remove.","required":true,"type":"string","format":"uuid"}],"responses":{"204":{"description":"No Content response."},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"409":{"description":"Conflict response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}},"/v1/version":{"get":{"tags":["System"],"summary":"Get version","description":"Returns version information for this Control Plane server.","operationId":"control-plane#get-version","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/VersionInfo","required":["version","revision","revision_time","arch"]}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/APIError","required":["name","message"]}}},"schemes":["http"]}}},"definitions":{"APIError":{"title":"APIError","type":"object","properties":{"message":{"type":"string","description":"The error message.","example":"Ut perspiciatis."},"name":{"type":"string","description":"The name of the error.","example":"Sit in."}},"example":{"message":"Qui nihil molestiae cum.","name":"Placeat non id."},"required":["name","message"]},"BackupConfigSpec":{"title":"BackupConfigSpec","type":"object","properties":{"repositories":{"type":"array","items":{"$ref":"#/definitions/BackupRepositorySpec"},"description":"The repositories for this backup configuration.","example":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"minItems":1},"schedules":{"type":"array","items":{"$ref":"#/definitions/BackupScheduleSpec"},"description":"The schedules for this backup configuration.","example":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}],"maxItems":32}},"example":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"required":["repositories"]},"BackupDatabaseNodeResponse":{"title":"BackupDatabaseNodeResponse","type":"object","properties":{"task":{"$ref":"#/definitions/Task"}},"example":{"task":{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}},"required":["task"]},"BackupOptions":{"title":"BackupOptions","type":"object","properties":{"annotations":{"type":"object","description":"Annotations for the backup.","example":{"key":"value"},"maxLength":32,"additionalProperties":{"type":"string","example":"Libero mollitia similique impedit ab laudantium."}},"backup_options":{"type":"object","description":"Options for the backup.","example":{"archive-check":"n"},"maxLength":32,"additionalProperties":{"type":"string","example":"Error quas iste dicta."}},"type":{"type":"string","description":"The type of backup.","example":"full","enum":["full","diff","incr"]}},"example":{"annotations":{"key":"value"},"backup_options":{"archive-check":"n"},"type":"full"},"required":["type"]},"BackupRepositorySpec":{"title":"BackupRepositorySpec","type":"object","properties":{"azure_account":{"type":"string","description":"The Azure account name for this repository. Only applies when type = 'azure'.","example":"pgedge-backups","minLength":3,"maxLength":24},"azure_container":{"type":"string","description":"The Azure container name for this repository. Only applies when type = 'azure'.","example":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","minLength":3,"maxLength":63},"azure_endpoint":{"type":"string","description":"The optional Azure endpoint for this repository. Only applies when type = 'azure'.","example":"blob.core.usgovcloudapi.net","minLength":3,"maxLength":128},"azure_key":{"type":"string","description":"An optional Azure storage account access key to use for this repository. If not provided, pgbackrest will use the VM's managed identity.","example":"YXpLZXk=","maxLength":128},"base_path":{"type":"string","description":"The base path within the repository to store backups. Required for type = 'posix' and 'cifs'.","example":"/backups","maxLength":256},"custom_options":{"type":"object","description":"Additional options to apply to this repository.","example":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"maxLength":32,"additionalProperties":{"type":"string","example":"Veniam officia ratione minus vitae occaecati et."}},"gcs_bucket":{"type":"string","description":"The GCS bucket name for this repository. Only applies when type = 'gcs'.","example":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","minLength":3,"maxLength":63},"gcs_endpoint":{"type":"string","description":"The optional GCS endpoint for this repository. Only applies when type = 'gcs'.","example":"localhost","minLength":3,"maxLength":128},"gcs_key":{"type":"string","description":"Optional base64-encoded private key data. If omitted, pgbackrest will use the service account attached to the instance profile.","example":"ZXhhbXBsZSBnY3Mga2V5Cg==","maxLength":1024},"id":{"type":"string","description":"The unique identifier of this repository.","example":"f6b84a99-5e91-4203-be1e-131fe82e5984","minLength":1,"maxLength":64},"retention_full":{"type":"integer","description":"The count of full backups to retain or the time to retain full backups.","example":2,"format":"int64","minimum":1,"maximum":9999999},"retention_full_type":{"type":"string","description":"The type of measure used for retention_full.","example":"count","enum":["time","count"]},"s3_bucket":{"type":"string","description":"The S3 bucket name for this repository. Only applies when type = 's3'.","example":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","minLength":3,"maxLength":63},"s3_endpoint":{"type":"string","description":"The optional S3 endpoint for this repository. Only applies when type = 's3'.","example":"s3.us-east-1.amazonaws.com","minLength":3,"maxLength":128},"s3_key":{"type":"string","description":"An optional AWS access key ID to use for this repository. If not provided, pgbackrest will use the default credential provider chain.","example":"AKIAIOSFODNN7EXAMPLE","minLength":16,"maxLength":128},"s3_key_secret":{"type":"string","description":"The corresponding secret for the AWS access key ID in s3_key.","example":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","maxLength":128},"s3_region":{"type":"string","description":"The region of the S3 bucket for this repository. Only applies when type = 's3'.","example":"us-east-1","minLength":1,"maxLength":32},"type":{"type":"string","description":"The type of this repository.","example":"s3","enum":["s3","gcs","azure","posix","cifs"]}},"example":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"required":["type"]},"BackupScheduleSpec":{"title":"BackupScheduleSpec","type":"object","properties":{"cron_expression":{"type":"string","description":"The cron expression for this schedule.","example":"0 6 * * ?","maxLength":32},"id":{"type":"string","description":"The unique identifier for this backup schedule.","example":"daily-full-backup","maxLength":64},"type":{"type":"string","description":"The type of backup to take on this schedule.","example":"full","enum":["full","incr"]}},"example":{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},"required":["id","type","cron_expression"]},"Cluster":{"title":"Cluster","type":"object","properties":{"hosts":{"type":"array","items":{"$ref":"#/definitions/Host"},"description":"All of the hosts in the cluster.","example":[{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]},{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]},{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]}]},"id":{"type":"string","description":"Unique identifier for the cluster.","example":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","format":"uuid"},"status":{"$ref":"#/definitions/ClusterStatus"},"tenant_id":{"type":"string","description":"Unique identifier for the cluster's owner.","example":"8210ec10-2dca-406c-ac4a-0661d2189954","format":"uuid"}},"example":{"hosts":[{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]},{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]},{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]}],"id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","status":{"state":"error"},"tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954"},"required":["id","tenant_id","status","hosts"]},"ClusterJoinToken":{"title":"ClusterJoinToken","type":"object","properties":{"server_url":{"type":"string","description":"Existing server to join","example":"http://192.168.1.1:3000","format":"uri"},"token":{"type":"string","description":"Token to join an existing cluster.","example":"PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd"}},"example":{"server_url":"http://192.168.1.1:3000","token":"PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd"},"required":["token","server_url"]},"ClusterStatus":{"title":"ClusterStatus","type":"object","properties":{"state":{"type":"string","description":"The current state of the cluster.","example":"error","enum":["available","error"]}},"example":{"state":"error"},"required":["state"]},"ComponentStatus":{"title":"ComponentStatus","type":"object","properties":{"details":{"type":"object","description":"Additional details about the component.","example":{"alarms":["3: NOSPACE"]},"additionalProperties":true},"error":{"type":"string","description":"Error message from any errors that occurred during the health check.","example":"failed to connect to etcd"},"healthy":{"type":"boolean","description":"Indicates if the component is healthy.","example":false}},"example":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"required":["healthy"]},"ControlPlaneDatabaseResponseAbbreviatedCollection":{"title":"Mediatype identifier: database; type=collection; view=abbreviated","type":"array","items":{"$ref":"#/definitions/DatabaseResponseAbbreviated"},"description":"ControlPlaneDatabaseResponseAbbreviatedCollection is the result type for an array of DatabaseResponseAbbreviated (default view)","example":[{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"available","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"available","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"}]},"ControlPlaneGetDatabaseResponseBody":{"title":"Mediatype identifier: database; view=default","type":"object","properties":{"created_at":{"type":"string","description":"The time that the database was created.","example":"2025-01-01T01:30:00Z","format":"date-time"},"id":{"type":"string","description":"Unique identifier for the database.","example":"02f1a7db-fca8-4521-b57a-2a375c1ced51","format":"uuid"},"instances":{"$ref":"#/definitions/InstanceResponseBodyCollection"},"spec":{"$ref":"#/definitions/DatabaseSpec"},"state":{"type":"string","description":"Current state of the database.","example":"modifying","enum":["creating","modifying","available","deleting","degraded","unknown"]},"tenant_id":{"type":"string","description":"Unique identifier for the databases's owner.","example":"8210ec10-2dca-406c-ac4a-0661d2189954","format":"uuid"},"updated_at":{"type":"string","description":"The time that the database was last updated.","example":"2025-01-01T02:30:00Z","format":"date-time"}},"description":"Get-DatabaseResponseBody result type (default view)","example":{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"unknown","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},"required":["id","created_at","updated_at","state"]},"CreateDatabaseRequest":{"title":"CreateDatabaseRequest","type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the database.","example":"02f1a7db-fca8-4521-b57a-2a375c1ced51","format":"uuid"},"spec":{"$ref":"#/definitions/DatabaseSpec"},"tenant_id":{"type":"string","description":"Unique identifier for the databases's owner.","example":"8210ec10-2dca-406c-ac4a-0661d2189954","format":"uuid"}},"example":{"id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":true,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":true,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":true,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954"},"required":["spec"]},"CreateDatabaseResponse":{"title":"CreateDatabaseResponse","type":"object","properties":{"database":{"$ref":"#/definitions/Database"},"task":{"$ref":"#/definitions/Task"}},"example":{"database":{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"2008-04-05T03:29:38Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"crashed","pending_restart":true,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"available","status_updated_at":"1989-01-18T08:35:28Z","updated_at":"2003-08-09T22:13:38Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"2008-04-05T03:29:38Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"crashed","pending_restart":true,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"available","status_updated_at":"1989-01-18T08:35:28Z","updated_at":"2003-08-09T22:13:38Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"modifying","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},"task":{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}},"required":["task","database"]},"Database":{"title":"Mediatype identifier: database; view=default","type":"object","properties":{"created_at":{"type":"string","description":"The time that the database was created.","example":"2025-01-01T01:30:00Z","format":"date-time"},"id":{"type":"string","description":"Unique identifier for the database.","example":"02f1a7db-fca8-4521-b57a-2a375c1ced51","format":"uuid"},"instances":{"$ref":"#/definitions/InstanceResponseBodyCollection"},"spec":{"$ref":"#/definitions/DatabaseSpec"},"state":{"type":"string","description":"Current state of the database.","example":"degraded","enum":["creating","modifying","available","deleting","degraded","unknown"]},"tenant_id":{"type":"string","description":"Unique identifier for the databases's owner.","example":"8210ec10-2dca-406c-ac4a-0661d2189954","format":"uuid"},"updated_at":{"type":"string","description":"The time that the database was last updated.","example":"2025-01-01T02:30:00Z","format":"date-time"}},"description":"DatabaseResponseBody result type (default view)","example":{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"deleting","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},"required":["id","created_at","updated_at","state"]},"DatabaseNodeSpec":{"title":"DatabaseNodeSpec","type":"object","properties":{"backup_config":{"$ref":"#/definitions/BackupConfigSpec"},"cpus":{"type":"string","description":"The number of CPUs to allocate for the database on this node and to use for tuning Postgres. Can include the SI suffix 'm', e.g. '500m' for 500 millicpus. Cannot allocate units smaller than 1m. Defaults to the number of available CPUs on the host if 0 or unspecified. Cannot allocate more CPUs than are available on the host. Whether this limit will be enforced depends on the orchestrator.","example":"500m","pattern":"^[0-9]+(\\.[0-9]{1,3}|m)?$"},"extra_volumes":{"type":"array","items":{"$ref":"#/definitions/ExtraVolumesSpec"},"description":"Optional list of external volumes to mount for this node only.","example":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"maxItems":16},"host_ids":{"type":"array","items":{"type":"string","example":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","format":"uuid"},"description":"The IDs of the hosts that should run this node. When multiple hosts are specified, one host will chosen as a primary and the others will be read replicas.","example":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"minItems":1},"memory":{"type":"string","description":"The amount of memory in SI or IEC notation to allocate for the database on this node and to use for tuning Postgres. Defaults to the total available memory on the host. Whether this limit will be enforced depends on the orchestrator.","example":"500M","maxLength":16},"name":{"type":"string","description":"The name of the database node.","example":"n1","pattern":"n[0-9]+"},"port":{"type":"integer","description":"The port used by the Postgres database for this node. Overrides the Postgres port set in the DatabaseSpec.","example":5432,"format":"int64","minimum":1,"maximum":65535},"postgres_version":{"type":"string","description":"The major version of Postgres for this node. Overrides the Postgres version set in the DatabaseSpec.","example":"17","enum":["15","16","17"]},"postgresql_conf":{"type":"object","description":"Additional postgresql.conf settings for this particular node. Will be merged with the settings provided by control-plane.","example":{"max_connections":1000},"maxLength":64,"additionalProperties":true},"restore_config":{"$ref":"#/definitions/RestoreConfigSpec"}},"example":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},"required":["name","host_ids"]},"DatabaseResponseAbbreviated":{"title":"Mediatype identifier: database; view=default","type":"object","properties":{"created_at":{"type":"string","description":"The time that the database was created.","example":"2025-01-01T01:30:00Z","format":"date-time"},"id":{"type":"string","description":"Unique identifier for the database.","example":"02f1a7db-fca8-4521-b57a-2a375c1ced51","format":"uuid"},"instances":{"$ref":"#/definitions/InstanceResponseAbbreviatedCollection"},"state":{"type":"string","description":"Current state of the database.","example":"available","enum":["creating","modifying","available","deleting","degraded","unknown"]},"tenant_id":{"type":"string","description":"Unique identifier for the databases's owner.","example":"8210ec10-2dca-406c-ac4a-0661d2189954","format":"uuid"},"updated_at":{"type":"string","description":"The time that the database was last updated.","example":"2025-01-01T02:30:00Z","format":"date-time"}},"description":"DatabaseResponse result type (abbreviated view) (default view)","example":{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","state":"unknown"},{"host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","state":"unknown"},{"host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","state":"unknown"},{"host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","state":"unknown"}],"state":"modifying","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},"required":["id","created_at","updated_at","state"]},"DatabaseSpec":{"title":"DatabaseSpec","type":"object","properties":{"backup_config":{"$ref":"#/definitions/BackupConfigSpec"},"cpus":{"type":"string","description":"The number of CPUs to allocate for the database and to use for tuning Postgres. Defaults to the number of available CPUs on the host. Can include an SI suffix, e.g. '500m' for 500 millicpus. Whether this limit will be enforced depends on the orchestrator.","example":"500m","pattern":"^[0-9]+(\\.[0-9]{1,3}|m)?$"},"database_name":{"type":"string","description":"The name of the Postgres database.","example":"northwind","minLength":1,"maxLength":31},"database_users":{"type":"array","items":{"$ref":"#/definitions/DatabaseUserSpec"},"description":"The users to create for this database.","example":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"maxItems":16},"extra_volumes":{"type":"array","items":{"$ref":"#/definitions/ExtraVolumesSpec"},"description":"A list of extra volumes to mount. Each entry defines a host and container path.","example":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"maxItems":16},"memory":{"type":"string","description":"The amount of memory in SI or IEC notation to allocate for the database and to use for tuning Postgres. Defaults to the total available memory on the host. Whether this limit will be enforced depends on the orchestrator.","example":"500M","maxLength":16},"nodes":{"type":"array","items":{"$ref":"#/definitions/DatabaseNodeSpec"},"description":"The Spock nodes for this database.","example":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"minItems":1,"maxItems":9},"port":{"type":"integer","description":"The port used by the Postgres database.","example":5432,"format":"int64","minimum":1,"maximum":65535},"postgres_version":{"type":"string","description":"The major version of the Postgres database.","example":"17","enum":["15","16","17"]},"postgresql_conf":{"type":"object","description":"Additional postgresql.conf settings. Will be merged with the settings provided by control-plane.","example":{"max_connections":1000},"maxLength":64,"additionalProperties":true},"restore_config":{"$ref":"#/definitions/RestoreConfigSpec"},"spock_version":{"type":"string","description":"The major version of the Spock extension.","example":"4","enum":["4"]}},"example":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"required":["database_name","nodes"]},"DatabaseUserSpec":{"title":"DatabaseUserSpec","type":"object","properties":{"attributes":{"type":"array","items":{"type":"string","example":"Dignissimos ducimus reiciendis asperiores explicabo."},"description":"The attributes to assign to this database user.","example":["LOGIN","CREATEDB","CREATEROLE"],"maxItems":16},"db_owner":{"type":"boolean","description":"If true, this user will be granted database ownership.","example":true},"password":{"type":"string","description":"The password for this database user.","example":"secret","minLength":1},"roles":{"type":"array","items":{"type":"string","example":"Consequuntur molestiae architecto iure molestiae."},"description":"The roles to assign to this database user.","example":["pgedge_superuser"],"maxItems":16},"username":{"type":"string","description":"The username for this database user.","example":"admin","minLength":1}},"example":{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},"required":["username","password"]},"DeleteDatabaseResponse":{"title":"DeleteDatabaseResponse","type":"object","properties":{"task":{"$ref":"#/definitions/Task"}},"example":{"task":{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}},"required":["task"]},"ExtraVolumesSpec":{"title":"ExtraVolumesSpec","type":"object","properties":{"destination_path":{"type":"string","description":"The path inside the container where the volume will be mounted.","example":"/backups/container","maxLength":256},"host_path":{"type":"string","description":"The host path for the volume.","example":"/Users/user/backups/host","maxLength":256}},"description":"Defines an extra volumes mapping between host and container.","example":{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},"required":["host_path","destination_path"]},"Host":{"title":"Host","type":"object","properties":{"cohort":{"$ref":"#/definitions/HostCohort"},"cpus":{"type":"integer","description":"The number of CPUs on this host.","example":4,"format":"int64"},"default_pgedge_version":{"$ref":"#/definitions/PgEdgeVersion"},"hostname":{"type":"string","description":"The hostname of this host.","example":"i-0123456789abcdef.ec2.internal"},"id":{"type":"string","description":"Unique identifier for the host.","example":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","format":"uuid"},"ipv4_address":{"type":"string","description":"The IPv4 address of this host.","example":"10.24.34.0","format":"ipv4"},"memory":{"type":"string","description":"The amount of memory available on this host.","example":"16GiB"},"orchestrator":{"type":"string","description":"The orchestrator used by this host.","example":"swarm"},"status":{"$ref":"#/definitions/HostStatus"},"supported_pgedge_versions":{"type":"array","items":{"$ref":"#/definitions/PgEdgeVersion"},"description":"The PgEdge versions supported by this host.","example":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]}},"example":{"cohort":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"cpus":4,"default_pgedge_version":{"postgres_version":"16","spock_version":"4"},"hostname":"i-0123456789abcdef.ec2.internal","id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","ipv4_address":"10.24.34.0","memory":"16GiB","orchestrator":"swarm","status":{"components":{"Et quis.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quibusdam aut ut ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"supported_pgedge_versions":[{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"},{"postgres_version":"16","spock_version":"4"}]},"required":["id","orchestrator","hostname","ipv4_address","status"]},"HostCohort":{"title":"HostCohort","type":"object","properties":{"cohort_id":{"type":"string","description":"The cohort ID that the host belongs to.","example":"pps1n11hqijn9rbee4cjil453"},"control_available":{"type":"boolean","description":"Indicates if the host is a control node in the cohort.","example":true},"member_id":{"type":"string","description":"The member ID of the host within the cohort.","example":"lah4bsznw6kc0hp7biylmmmll"},"type":{"type":"string","description":"The type of cohort that the host belongs to.","example":"swarm"}},"example":{"cohort_id":"pps1n11hqijn9rbee4cjil453","control_available":true,"member_id":"lah4bsznw6kc0hp7biylmmmll","type":"swarm"},"required":["type","cohort_id","member_id","control_available"]},"HostStatus":{"title":"HostStatus","type":"object","properties":{"components":{"type":"object","description":"The status of each component of the host.","example":{"Et eum eius.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Modi et commodi aut.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Quia itaque aut.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"additionalProperties":{"$ref":"#/definitions/ComponentStatus"}},"state":{"type":"string","example":"available","enum":["healthy","unreachable","degraded","unknown"]},"updated_at":{"type":"string","description":"The last time the host status was updated.","example":"2021-07-01T12:34:56Z","format":"date-time"}},"example":{"components":{"Incidunt suscipit quaerat qui ea.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false},"Laboriosam blanditiis et repudiandae quisquam assumenda mollitia.":{"details":{"alarms":["3: NOSPACE"]},"error":"failed to connect to etcd","healthy":false}},"state":"available","updated_at":"2021-07-01T12:34:56Z"},"required":["state","updated_at","components"]},"InstanceConnectionInfo":{"title":"InstanceConnectionInfo","type":"object","properties":{"hostname":{"type":"string","description":"The hostname of the host that's running this instance.","example":"i-0123456789abcdef.ec2.internal"},"ipv4_address":{"type":"string","description":"The IPv4 address of the host that's running this instance.","example":"10.24.34.0","format":"ipv4"},"port":{"type":"integer","description":"The host port that Postgres is listening on for this instance.","example":5432,"format":"int64"}},"description":"Connection information for a pgEdge instance.","example":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432}},"InstancePostgresStatus":{"title":"InstancePostgresStatus","type":"object","properties":{"patroni_paused":{"type":"boolean","description":"True if Patroni has been paused for this instance.","example":true},"patroni_state":{"type":"string","example":"stop failed","enum":["stopping","stopped","stop failed","crashed","running","starting","start failed","restarting","restart failed","initializing new cluster","initdb failed","running custom bootstrap script","custom bootstrap failed","creating replica","unknown"]},"pending_restart":{"type":"boolean","description":"True if this instance is pending to be restarted from a configuration change.","example":true},"role":{"type":"string","example":"primary","enum":["replica","primary"]},"version":{"type":"string","description":"The version of Postgres for this instance.","example":"17.5"}},"description":"Postgres status information for a pgEdge instance.","example":{"patroni_paused":false,"patroni_state":"starting","pending_restart":true,"role":"primary","version":"17.5"}},"InstanceResponseAbbreviated":{"title":"Mediatype identifier: instance; view=default","type":"object","properties":{"host_id":{"type":"string","description":"The ID of the host this instance is running on.","example":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","format":"uuid"},"id":{"type":"string","description":"Unique identifier for the instance.","example":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","format":"uuid"},"node_name":{"type":"string","description":"The Spock node name for this instance.","example":"n1"},"state":{"type":"string","example":"failed","enum":["creating","modifying","backing_up","available","degraded","failed","unknown"]}},"description":"An instance of pgEdge Postgres running on a host. (abbreviated view) (default view)","example":{"host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","state":"available"},"required":["id","host_id","node_name","state"]},"InstanceResponseAbbreviatedCollection":{"title":"Mediatype identifier: instance; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/InstanceResponseAbbreviated"},"description":"InstanceResponseAbbreviatedCollection is the result type for an array of InstanceResponseAbbreviated (default view)","example":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"}]},"InstanceResponseBody":{"title":"Mediatype identifier: instance; view=default","type":"object","properties":{"connection_info":{"$ref":"#/definitions/InstanceConnectionInfo"},"created_at":{"type":"string","description":"The time that the instance was created.","example":"1982-12-11T10:43:34Z","format":"date-time"},"error":{"type":"string","description":"An error message if the instance is in an error state.","example":"failed to get patroni status: connection refused"},"host_id":{"type":"string","description":"The ID of the host this instance is running on.","example":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","format":"uuid"},"id":{"type":"string","description":"Unique identifier for the instance.","example":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","format":"uuid"},"node_name":{"type":"string","description":"The Spock node name for this instance.","example":"n1"},"postgres":{"$ref":"#/definitions/InstancePostgresStatus"},"spock":{"$ref":"#/definitions/InstanceSpockStatus"},"state":{"type":"string","example":"creating","enum":["creating","modifying","backing_up","available","degraded","failed","unknown"]},"status_updated_at":{"type":"string","description":"The time that the instance status information was last updated.","example":"1978-12-17T01:14:06Z","format":"date-time"},"updated_at":{"type":"string","description":"The time that the instance was last modified.","example":"2010-08-13T18:38:44Z","format":"date-time"}},"description":"An instance of pgEdge Postgres running on a host. (default view)","example":{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1976-03-01T20:13:25Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"failed","status_updated_at":"2002-03-20T15:42:21Z","updated_at":"1977-03-14T09:54:12Z"},"required":["id","host_id","node_name","created_at","updated_at","state"]},"InstanceResponseBodyCollection":{"title":"Mediatype identifier: instance; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/InstanceResponseBody"},"description":"InstanceCollectionResponseBody is the result type for an array of InstanceResponseBody (default view)","example":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"1991-01-18T08:21:24Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"initializing new cluster","pending_restart":false,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"modifying","status_updated_at":"1981-04-02T10:17:50Z","updated_at":"1991-01-13T22:07:17Z"}]},"InstanceSpockStatus":{"title":"InstanceSpockStatus","type":"object","properties":{"read_only":{"type":"string","description":"The current spock.readonly setting.","example":"off"},"subscriptions":{"type":"array","items":{"$ref":"#/definitions/InstanceSubscription"},"description":"Status information for this instance's Spock subscriptions.","example":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}]},"version":{"type":"string","description":"The version of Spock for this instance.","example":"4.10.0"}},"description":"Spock status information for a pgEdge instance.","example":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"}},"InstanceSubscription":{"title":"InstanceSubscription","type":"object","properties":{"name":{"type":"string","description":"The name of the subscription.","example":"sub_n1n2"},"provider_node":{"type":"string","description":"The Spock node name of the provider for this subscription.","example":"n2","pattern":"n[0-9]+"},"status":{"type":"string","description":"The current status of the subscription.","example":"down"}},"description":"Status information for a Spock subscription.","example":{"name":"sub_n1n2","provider_node":"n2","status":"down"},"required":["provider_node","name","status"]},"PgEdgeVersion":{"title":"PgEdgeVersion","type":"object","properties":{"postgres_version":{"type":"string","description":"The Postgres major version.","example":"16"},"spock_version":{"type":"string","description":"The Spock major version.","example":"4"}},"example":{"postgres_version":"16","spock_version":"4"},"required":["postgres_version","spock_version"]},"RestoreConfigSpec":{"title":"RestoreConfigSpec","type":"object","properties":{"repository":{"$ref":"#/definitions/RestoreRepositorySpec"},"restore_options":{"type":"object","description":"Additional options to use when restoring this database. If omitted, the database will be restored to the latest point in the given repository.","example":{"set":"20250505-153628F","target":"123456","type":"xid"},"maxLength":32,"additionalProperties":{"type":"string","example":"Sit quae et tempore."}},"source_database_id":{"type":"string","description":"The ID of the database to restore this database from.","example":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","format":"uuid"},"source_database_name":{"type":"string","description":"The name of the database in this repository. This database will be renamed to the database_name in the DatabaseSpec.","example":"northwind","minLength":1,"maxLength":31},"source_node_name":{"type":"string","description":"The name of the node to restore this database from.","example":"n1","pattern":"n[0-9]+"}},"example":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"required":["source_database_id","source_node_name","source_database_name","repository"]},"RestoreDatabaseRequest":{"title":"RestoreDatabaseRequest","type":"object","properties":{"restore_config":{"$ref":"#/definitions/RestoreConfigSpec"},"target_nodes":{"type":"array","items":{"type":"string","example":"Sit omnis quisquam officiis."},"description":"The nodes to restore. Defaults to all nodes if empty or unspecified.","example":["n1"],"maxItems":9}},"example":{"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"target_nodes":["n1"]},"required":["restore_config"]},"RestoreDatabaseResponse":{"title":"RestoreDatabaseResponse","type":"object","properties":{"database":{"$ref":"#/definitions/Database"},"node_tasks":{"type":"array","items":{"$ref":"#/definitions/Task"},"description":"The tasks that will restore each database node.","example":[{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"},{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}]},"task":{"$ref":"#/definitions/Task"}},"example":{"database":{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"2008-04-05T03:29:38Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"crashed","pending_restart":true,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"available","status_updated_at":"1989-01-18T08:35:28Z","updated_at":"2003-08-09T22:13:38Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"2008-04-05T03:29:38Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"crashed","pending_restart":true,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"available","status_updated_at":"1989-01-18T08:35:28Z","updated_at":"2003-08-09T22:13:38Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"modifying","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},"node_tasks":[{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"},{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"},{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}],"task":{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}},"required":["task","node_tasks","database"]},"RestoreRepositorySpec":{"title":"RestoreRepositorySpec","type":"object","properties":{"azure_account":{"type":"string","description":"The Azure account name for this repository. Only applies when type = 'azure'.","example":"pgedge-backups","minLength":3,"maxLength":24},"azure_container":{"type":"string","description":"The Azure container name for this repository. Only applies when type = 'azure'.","example":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","minLength":3,"maxLength":63},"azure_endpoint":{"type":"string","description":"The optional Azure endpoint for this repository. Only applies when type = 'azure'.","example":"blob.core.usgovcloudapi.net","minLength":3,"maxLength":128},"azure_key":{"type":"string","description":"An optional Azure storage account access key to use for this repository. If not provided, pgbackrest will use the VM's managed identity.","example":"YXpLZXk=","maxLength":128},"base_path":{"type":"string","description":"The base path within the repository to store backups. Required for type = 'posix' and 'cifs'.","example":"/backups","maxLength":256},"custom_options":{"type":"object","description":"Additional options to apply to this repository.","example":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"additionalProperties":{"type":"string","example":"Nulla omnis nobis."}},"gcs_bucket":{"type":"string","description":"The GCS bucket name for this repository. Only applies when type = 'gcs'.","example":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","minLength":3,"maxLength":63},"gcs_endpoint":{"type":"string","description":"The optional GCS endpoint for this repository. Only applies when type = 'gcs'.","example":"localhost","minLength":3,"maxLength":128},"gcs_key":{"type":"string","description":"Optional base64-encoded private key data. If omitted, pgbackrest will use the service account attached to the instance profile.","example":"ZXhhbXBsZSBnY3Mga2V5Cg==","maxLength":1024},"id":{"type":"string","description":"The unique identifier of this repository.","example":"f6b84a99-5e91-4203-be1e-131fe82e5984","minLength":1,"maxLength":64},"s3_bucket":{"type":"string","description":"The S3 bucket name for this repository. Only applies when type = 's3'.","example":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","minLength":3,"maxLength":63},"s3_endpoint":{"type":"string","description":"The optional S3 endpoint for this repository. Only applies when type = 's3'.","example":"s3.us-east-1.amazonaws.com","minLength":3,"maxLength":128},"s3_key":{"type":"string","description":"An optional AWS access key ID to use for this repository. If not provided, pgbackrest will use the default credential provider chain.","example":"AKIAIOSFODNN7EXAMPLE","minLength":16,"maxLength":128},"s3_key_secret":{"type":"string","description":"The corresponding secret for the AWS access key ID in s3_key.","example":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","maxLength":128},"s3_region":{"type":"string","description":"The region of the S3 bucket for this repository. Only applies when type = 's3'.","example":"us-east-1","minLength":1,"maxLength":32},"type":{"type":"string","description":"The type of this repository.","example":"s3","enum":["s3","gcs","azure","posix","cifs"]}},"example":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"required":["type"]},"Task":{"title":"Task","type":"object","properties":{"completed_at":{"type":"string","description":"The time when the task was completed.","example":"2025-01-01T02:30:00Z","format":"date-time"},"created_at":{"type":"string","description":"The time when the task was created.","example":"2025-01-01T01:30:00Z","format":"date-time"},"database_id":{"type":"string","description":"The database ID of the task.","example":"02f1a7db-fca8-4521-b57a-2a375c1ced51","format":"uuid"},"error":{"type":"string","description":"The error message if the task failed.","example":"failed to connect to database"},"host_id":{"type":"string","description":"The ID of the host that the task is running on.","example":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","format":"uuid"},"instance_id":{"type":"string","description":"The ID of the instance that the task is operating on.","example":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","format":"uuid"},"node_name":{"type":"string","description":"The name of the node that the task is operating on.","example":"n1"},"parent_id":{"type":"string","description":"The parent task ID of the task.","example":"439eb515-e700-4740-b508-4a3f12ec4f83","format":"uuid"},"status":{"type":"string","description":"The status of the task.","example":"pending","enum":["pending","running","completed","failed","unknown"]},"task_id":{"type":"string","description":"The unique ID of the task.","example":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","format":"uuid"},"type":{"type":"string","description":"The type of the task.","example":"restore"}},"example":{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"},"required":["database_id","task_id","created_at","type","status"]},"TaskLog":{"title":"TaskLog","type":"object","properties":{"database_id":{"type":"string","description":"The database ID of the task log.","example":"02f1a7db-fca8-4521-b57a-2a375c1ced51","format":"uuid"},"entries":{"type":"array","items":{"$ref":"#/definitions/TaskLogEntry"},"description":"Entries in the task log.","example":[{"fields":{"option.enabled":true,"status":"creating"},"message":"task started","timestamp":"2025-05-29T15:43:13Z"},{"fields":{"option.enabled":true,"status":"creating"},"message":"task started","timestamp":"2025-05-29T15:43:13Z"}]},"last_entry_id":{"type":"string","description":"The ID of the last entry in the task log.","example":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","format":"uuid"},"task_id":{"type":"string","description":"The unique ID of the task log.","example":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","format":"uuid"},"task_status":{"type":"string","description":"The status of the task.","example":"pending","enum":["pending","running","completed","failed","unknown"]}},"example":{"database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","entries":[{"fields":{"option.enabled":true,"status":"creating"},"message":"task started","timestamp":"2025-05-29T15:43:13Z"},{"fields":{"option.enabled":true,"status":"creating"},"message":"task started","timestamp":"2025-05-29T15:43:13Z"}],"last_entry_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","task_status":"pending"},"required":["database_id","task_id","task_status","entries"]},"TaskLogEntry":{"title":"TaskLogEntry","type":"object","properties":{"fields":{"type":"object","description":"Additional fields for the log entry.","example":{"option.enabled":true,"status":"creating"},"additionalProperties":true},"message":{"type":"string","description":"The log message.","example":"task started"},"timestamp":{"type":"string","description":"The timestamp of the log entry.","example":"2025-05-29T15:43:13Z","format":"date-time"}},"example":{"fields":{"option.enabled":true,"status":"creating"},"message":"task started","timestamp":"2025-05-29T15:43:13Z"},"required":["timestamp","message"]},"UpdateDatabaseRequest":{"title":"UpdateDatabaseRequest","type":"object","properties":{"spec":{"$ref":"#/definitions/DatabaseSpec"},"tenant_id":{"type":"string","description":"Unique identifier for the databases's owner.","example":"8210ec10-2dca-406c-ac4a-0661d2189954","format":"uuid"}},"example":{"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954"},"required":["spec"]},"UpdateDatabaseResponse":{"title":"UpdateDatabaseResponse","type":"object","properties":{"database":{"$ref":"#/definitions/Database"},"task":{"$ref":"#/definitions/Task"}},"example":{"database":{"created_at":"2025-01-01T01:30:00Z","id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","instances":[{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"2008-04-05T03:29:38Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"crashed","pending_restart":true,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"available","status_updated_at":"1989-01-18T08:35:28Z","updated_at":"2003-08-09T22:13:38Z"},{"connection_info":{"hostname":"i-0123456789abcdef.ec2.internal","ipv4_address":"10.24.34.0","port":5432},"created_at":"2008-04-05T03:29:38Z","error":"failed to get patroni status: connection refused","host_id":"de3b1388-1f0c-42f1-a86c-59ab72f255ec","id":"a67cbb36-c3c3-49c9-8aac-f4a0438a883d","node_name":"n1","postgres":{"patroni_paused":false,"patroni_state":"crashed","pending_restart":true,"role":"primary","version":"17.5"},"spock":{"read_only":"off","subscriptions":[{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"},{"name":"sub_n1n2","provider_node":"n2","status":"down"}],"version":"4.10.0"},"state":"available","status_updated_at":"1989-01-18T08:35:28Z","updated_at":"2003-08-09T22:13:38Z"}],"spec":{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","database_name":"northwind","database_users":[{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"},{"attributes":["LOGIN","CREATEDB","CREATEROLE"],"db_owner":false,"password":"secret","roles":["pgedge_superuser"],"username":"admin"}],"extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"memory":"500M","nodes":[{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}},{"backup_config":{"repositories":[{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab","storage-upload-chunk-size":"5MiB"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","retention_full":2,"retention_full_type":"count","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"}],"schedules":[{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"},{"cron_expression":"0 6 * * ?","id":"daily-full-backup","type":"full"}]},"cpus":"500m","extra_volumes":[{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"},{"destination_path":"/backups/container","host_path":"/Users/user/backups/host"}],"host_ids":["de3b1388-1f0c-42f1-a86c-59ab72f255ec","de3b1388-1f0c-42f1-a86c-59ab72f255ec"],"memory":"500M","name":"n1","port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"}}],"port":5432,"postgres_version":"17","postgresql_conf":{"max_connections":1000},"restore_config":{"repository":{"azure_account":"pgedge-backups","azure_container":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","azure_endpoint":"blob.core.usgovcloudapi.net","azure_key":"YXpLZXk=","base_path":"/backups","custom_options":{"s3-kms-key-id":"1234abcd-12ab-34cd-56ef-1234567890ab"},"gcs_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","gcs_endpoint":"localhost","gcs_key":"ZXhhbXBsZSBnY3Mga2V5Cg==","id":"f6b84a99-5e91-4203-be1e-131fe82e5984","s3_bucket":"pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1","s3_endpoint":"s3.us-east-1.amazonaws.com","s3_key":"AKIAIOSFODNN7EXAMPLE","s3_key_secret":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY","s3_region":"us-east-1","type":"s3"},"restore_options":{"set":"20250505-153628F","target":"123456","type":"xid"},"source_database_id":"6c8e43ee-26ea-47b8-a8f8-89897e0137bd","source_database_name":"northwind","source_node_name":"n1"},"spock_version":"4"},"state":"modifying","tenant_id":"8210ec10-2dca-406c-ac4a-0661d2189954","updated_at":"2025-01-01T02:30:00Z"},"task":{"completed_at":"2025-01-01T02:30:00Z","created_at":"2025-01-01T01:30:00Z","database_id":"02f1a7db-fca8-4521-b57a-2a375c1ced51","error":"failed to connect to database","host_id":"2e52dcde-86d8-4f71-b58e-8dc3a10c936a","instance_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","node_name":"n1","parent_id":"439eb515-e700-4740-b508-4a3f12ec4f83","status":"pending","task_id":"3c875a27-f6a6-4c1c-ba5f-6972fb1fc348","type":"restore"}},"required":["task","database"]},"VersionInfo":{"title":"VersionInfo","type":"object","properties":{"arch":{"type":"string","description":"The CPU architecture of the API server.","example":"amd64"},"revision":{"type":"string","description":"The VCS revision of the API server.","example":"abc123"},"revision_time":{"type":"string","description":"The timestamp associated with the revision.","example":"2025-01-01T01:30:00Z","format":"date-time"},"version":{"type":"string","description":"The version of the API server.","example":"1.0.0"}},"example":{"arch":"amd64","revision":"abc123","revision_time":"2025-01-01T01:30:00Z","version":"1.0.0"},"required":["version","revision","revision_time","arch"]}}}