swagger: "2.0"
info:
    title: pgEdge Control Plane API
    description: Service for creating, modifying, and operating pgEdge databases.
    version: 0.0.1
host: localhost:3000
consumes:
    - application/json
    - application/xml
    - application/gob
produces:
    - application/json
    - application/xml
    - application/gob
paths:
    /cluster:
        get:
            tags:
                - control-plane
            summary: inspect-cluster control-plane
            description: Returns information about the cluster.
            operationId: control-plane#inspect-cluster
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/Cluster'
                        required:
                            - id
                            - tenant_id
                            - status
                            - hosts
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneInspectClusterClusterNotInitializedResponseBody'
            schemes:
                - http
    /cluster/init:
        get:
            tags:
                - control-plane
            summary: init-cluster control-plane
            description: Initializes a new cluster.
            operationId: control-plane#init-cluster
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ClusterJoinToken'
                        required:
                            - token
                            - server_url
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneInitClusterClusterAlreadyInitializedResponseBody'
            schemes:
                - http
    /cluster/join:
        post:
            tags:
                - control-plane
            summary: join-cluster control-plane
            description: Join this host to an existing cluster.
            operationId: control-plane#join-cluster
            parameters:
                - name: Join-ClusterRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/ClusterJoinToken'
                    required:
                        - token
                        - server_url
            responses:
                "204":
                    description: No Content response.
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneJoinClusterClusterAlreadyInitializedResponseBody'
            schemes:
                - http
    /cluster/join-token:
        get:
            tags:
                - control-plane
            summary: get-join-token control-plane
            description: Gets the join token for this cluster.
            operationId: control-plane#get-join-token
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ClusterJoinToken'
                        required:
                            - token
                            - server_url
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneGetJoinTokenClusterNotInitializedResponseBody'
            schemes:
                - http
    /databases:
        get:
            tags:
                - control-plane
            summary: list-databases control-plane
            description: Lists all databases in the cluster.
            operationId: control-plane#list-databases
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ControlPlaneDatabaseResponseAbbreviatedCollection'
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneListDatabasesClusterNotInitializedResponseBody'
            schemes:
                - http
        post:
            tags:
                - control-plane
            summary: create-database control-plane
            description: Creates a new database in the cluster.
            operationId: control-plane#create-database
            parameters:
                - name: Create-DatabaseRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/CreateDatabaseRequest'
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ControlPlaneCreateDatabaseResponseBody'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/ControlPlaneCreateDatabaseInvalidInputResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneCreateDatabaseClusterNotInitializedResponseBody'
            schemes:
                - http
    /databases/{database_id}:
        get:
            tags:
                - control-plane
            summary: inspect-database control-plane
            description: Returns information about a particular database in the cluster.
            operationId: control-plane#inspect-database
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to inspect.
                  required: true
                  type: string
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ControlPlaneInspectDatabaseResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneInspectDatabaseClusterNotInitializedResponseBody'
            schemes:
                - http
        post:
            tags:
                - control-plane
            summary: update-database control-plane
            description: Updates a database with the given specification.
            operationId: control-plane#update-database
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to update.
                  required: true
                  type: string
                - name: Update-DatabaseRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/UpdateDatabaseRequest'
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ControlPlaneUpdateDatabaseResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneUpdateDatabaseClusterNotInitializedResponseBody'
            schemes:
                - http
        delete:
            tags:
                - control-plane
            summary: delete-database control-plane
            description: Deletes a database from the cluster.
            operationId: control-plane#delete-database
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to delete.
                  required: true
                  type: string
            responses:
                "204":
                    description: No Content response.
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneDeleteDatabaseClusterNotInitializedResponseBody'
            schemes:
                - http
    /hosts:
        get:
            tags:
                - control-plane
            summary: list-hosts control-plane
            description: Lists all hosts within the cluster.
            operationId: control-plane#list-hosts
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: array
                        items:
                            $ref: '#/definitions/Host'
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneListHostsClusterNotInitializedResponseBody'
            schemes:
                - http
    /hosts/{host_id}:
        get:
            tags:
                - control-plane
            summary: inspect-host control-plane
            description: Returns information about a particular host in the cluster.
            operationId: control-plane#inspect-host
            parameters:
                - name: host_id
                  in: path
                  description: ID of the host to inspect.
                  required: true
                  type: string
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/Host'
                        required:
                            - id
                            - orchestrator
                            - hostname
                            - ipv4_address
                            - cpus
                            - memory
                            - status
                            - default_pgedge_version
                            - supported_pgedge_versions
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneInspectHostClusterNotInitializedResponseBody'
            schemes:
                - http
        delete:
            tags:
                - control-plane
            summary: remove-host control-plane
            description: Removes a host from the cluster.
            operationId: control-plane#remove-host
            parameters:
                - name: host_id
                  in: path
                  description: ID of the host to remove.
                  required: true
                  type: string
            responses:
                "204":
                    description: No Content response.
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ControlPlaneRemoveHostClusterNotInitializedResponseBody'
            schemes:
                - http
    /openapi.json:
        get:
            tags:
                - control-plane
            summary: Download ./gen/http/openapi3.json
            operationId: control-plane#/openapi.json
            responses:
                "200":
                    description: File downloaded
                    schema:
                        type: file
            schemes:
                - http
definitions:
    BackupConfigSpec:
        title: BackupConfigSpec
        type: object
        properties:
            id:
                type: string
                description: The unique identifier for this backup configuration.
                example: default
            provider:
                type: string
                description: The backup provider for this backup configuration.
                example: pgbackrest
                enum:
                    - pgbackrest
                    - pg_dump
            repositories:
                type: array
                items:
                    $ref: '#/definitions/BackupRepositorySpec'
                description: The repositories for this backup configuration.
                example:
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
            schedules:
                type: array
                items:
                    $ref: '#/definitions/BackupScheduleSpec'
                description: The schedules for this backup configuration.
                example:
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
        example:
            id: default
            provider: pgbackrest
            repositories:
                - azure_account: pgedge-backups
                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  azure_endpoint: blob.core.usgovcloudapi.net
                  base_path: /backups
                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  gcs_endpoint: localhost
                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                  retention_full: 2
                  retention_full_type: count
                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  s3_endpoint: s3.us-east-1.amazonaws.com
                  s3_region: us-east-1
                  type: s3
                - azure_account: pgedge-backups
                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  azure_endpoint: blob.core.usgovcloudapi.net
                  base_path: /backups
                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  gcs_endpoint: localhost
                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                  retention_full: 2
                  retention_full_type: count
                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  s3_endpoint: s3.us-east-1.amazonaws.com
                  s3_region: us-east-1
                  type: s3
                - azure_account: pgedge-backups
                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  azure_endpoint: blob.core.usgovcloudapi.net
                  base_path: /backups
                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  gcs_endpoint: localhost
                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                  retention_full: 2
                  retention_full_type: count
                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                  s3_endpoint: s3.us-east-1.amazonaws.com
                  s3_region: us-east-1
                  type: s3
            schedules:
                - cron_expression: 0 6 * * ?
                  id: daily-full-backup
                  type: full
                - cron_expression: 0 6 * * ?
                  id: daily-full-backup
                  type: full
                - cron_expression: 0 6 * * ?
                  id: daily-full-backup
                  type: full
                - cron_expression: 0 6 * * ?
                  id: daily-full-backup
                  type: full
        required:
            - id
            - provider
    BackupRepositorySpec:
        title: BackupRepositorySpec
        type: object
        properties:
            azure_account:
                type: string
                description: The Azure account name for this repository. Only applies when type = 'azure'.
                example: pgedge-backups
            azure_container:
                type: string
                description: The Azure container name for this repository. Only applies when type = 'azure'.
                example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            azure_endpoint:
                type: string
                description: The optional Azure endpoint for this repository. Only applies when type = 'azure'.
                example: blob.core.usgovcloudapi.net
            base_path:
                type: string
                description: The base path within the repository to store backups.
                example: /backups
            gcs_bucket:
                type: string
                description: The GCS bucket name for this repository. Only applies when type = 'gcs'.
                example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            gcs_endpoint:
                type: string
                description: The optional GCS endpoint for this repository. Only applies when type = 'gcs'.
                example: localhost
            id:
                type: string
                description: The unique identifier of this repository.
                example: f6b84a99-5e91-4203-be1e-131fe82e5984
                format: uuid
            retention_full:
                type: integer
                description: The count of full backups to retain or the time to retain full backups.
                example: 2
                format: int64
            retention_full_type:
                type: string
                description: The type of measure used for retention_full.
                example: count
                enum:
                    - time
                    - count
            s3_bucket:
                type: string
                description: The S3 bucket name for this repository. Only applies when type = 's3'.
                example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            s3_endpoint:
                type: string
                description: The optional S3 endpoint for this repository. Only applies when type = 's3'.
                example: s3.us-east-1.amazonaws.com
            s3_region:
                type: string
                description: The region of the S3 bucket for this repository. Only applies when type = 's3'.
                example: us-east-1
            type:
                type: string
                description: The type of this repository.
                example: s3
                enum:
                    - s3
                    - gcs
                    - azure
        example:
            azure_account: pgedge-backups
            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            azure_endpoint: blob.core.usgovcloudapi.net
            base_path: /backups
            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            gcs_endpoint: localhost
            id: f6b84a99-5e91-4203-be1e-131fe82e5984
            retention_full: 2
            retention_full_type: count
            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            s3_endpoint: s3.us-east-1.amazonaws.com
            s3_region: us-east-1
            type: s3
        required:
            - type
    BackupScheduleSpec:
        title: BackupScheduleSpec
        type: object
        properties:
            cron_expression:
                type: string
                description: The cron expression for this schedule.
                example: 0 6 * * ?
            id:
                type: string
                description: The unique identifier for this backup schedule.
                example: daily-full-backup
            type:
                type: string
                description: The type of backup to take on this schedule.
                example: full
                enum:
                    - full
                    - incr
        example:
            cron_expression: 0 6 * * ?
            id: daily-full-backup
            type: full
        required:
            - id
            - type
            - cron_expression
    Cluster:
        title: Cluster
        type: object
        properties:
            hosts:
                type: array
                items:
                    $ref: '#/definitions/Host'
                description: All of the hosts in the cluster.
                example:
                    - cohort:
                        cohort_id: pps1n11hqijn9rbee4cjil453
                        control_available: true
                        member_id: lah4bsznw6kc0hp7biylmmmll
                        type: swarm
                      cpus: 4
                      default_pgedge_version:
                        postgres_version: "16"
                        spock_version: "4"
                      hostname: i-0123456789abcdef.ec2.internal
                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      ipv4_address: 10.24.34.0
                      memory: 16GiB
                      orchestrator: swarm
                      status:
                        components:
                            Eum sequi enim.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Libero repellendus qui nobis.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                        state: available
                        updated_at: "2021-07-01T12:34:56Z"
                      supported_pgedge_versions:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                    - cohort:
                        cohort_id: pps1n11hqijn9rbee4cjil453
                        control_available: true
                        member_id: lah4bsznw6kc0hp7biylmmmll
                        type: swarm
                      cpus: 4
                      default_pgedge_version:
                        postgres_version: "16"
                        spock_version: "4"
                      hostname: i-0123456789abcdef.ec2.internal
                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      ipv4_address: 10.24.34.0
                      memory: 16GiB
                      orchestrator: swarm
                      status:
                        components:
                            Eum sequi enim.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Libero repellendus qui nobis.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                        state: available
                        updated_at: "2021-07-01T12:34:56Z"
                      supported_pgedge_versions:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                    - cohort:
                        cohort_id: pps1n11hqijn9rbee4cjil453
                        control_available: true
                        member_id: lah4bsznw6kc0hp7biylmmmll
                        type: swarm
                      cpus: 4
                      default_pgedge_version:
                        postgres_version: "16"
                        spock_version: "4"
                      hostname: i-0123456789abcdef.ec2.internal
                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      ipv4_address: 10.24.34.0
                      memory: 16GiB
                      orchestrator: swarm
                      status:
                        components:
                            Eum sequi enim.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Libero repellendus qui nobis.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                        state: available
                        updated_at: "2021-07-01T12:34:56Z"
                      supported_pgedge_versions:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                    - cohort:
                        cohort_id: pps1n11hqijn9rbee4cjil453
                        control_available: true
                        member_id: lah4bsznw6kc0hp7biylmmmll
                        type: swarm
                      cpus: 4
                      default_pgedge_version:
                        postgres_version: "16"
                        spock_version: "4"
                      hostname: i-0123456789abcdef.ec2.internal
                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      ipv4_address: 10.24.34.0
                      memory: 16GiB
                      orchestrator: swarm
                      status:
                        components:
                            Eum sequi enim.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Libero repellendus qui nobis.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                        state: available
                        updated_at: "2021-07-01T12:34:56Z"
                      supported_pgedge_versions:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
            id:
                type: string
                description: Unique identifier for the cluster.
                example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                format: uuid
            status:
                $ref: '#/definitions/ClusterStatus'
            tenant_id:
                type: string
                description: Unique identifier for the cluster's owner.
                example: 8210ec10-2dca-406c-ac4a-0661d2189954
                format: uuid
        example:
            hosts:
                - cohort:
                    cohort_id: pps1n11hqijn9rbee4cjil453
                    control_available: true
                    member_id: lah4bsznw6kc0hp7biylmmmll
                    type: swarm
                  cpus: 4
                  default_pgedge_version:
                    postgres_version: "16"
                    spock_version: "4"
                  hostname: i-0123456789abcdef.ec2.internal
                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  ipv4_address: 10.24.34.0
                  memory: 16GiB
                  orchestrator: swarm
                  status:
                    components:
                        Eum sequi enim.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                        Libero repellendus qui nobis.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                    state: available
                    updated_at: "2021-07-01T12:34:56Z"
                  supported_pgedge_versions:
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                - cohort:
                    cohort_id: pps1n11hqijn9rbee4cjil453
                    control_available: true
                    member_id: lah4bsznw6kc0hp7biylmmmll
                    type: swarm
                  cpus: 4
                  default_pgedge_version:
                    postgres_version: "16"
                    spock_version: "4"
                  hostname: i-0123456789abcdef.ec2.internal
                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  ipv4_address: 10.24.34.0
                  memory: 16GiB
                  orchestrator: swarm
                  status:
                    components:
                        Eum sequi enim.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                        Libero repellendus qui nobis.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                    state: available
                    updated_at: "2021-07-01T12:34:56Z"
                  supported_pgedge_versions:
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                - cohort:
                    cohort_id: pps1n11hqijn9rbee4cjil453
                    control_available: true
                    member_id: lah4bsznw6kc0hp7biylmmmll
                    type: swarm
                  cpus: 4
                  default_pgedge_version:
                    postgres_version: "16"
                    spock_version: "4"
                  hostname: i-0123456789abcdef.ec2.internal
                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  ipv4_address: 10.24.34.0
                  memory: 16GiB
                  orchestrator: swarm
                  status:
                    components:
                        Eum sequi enim.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                        Libero repellendus qui nobis.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                    state: available
                    updated_at: "2021-07-01T12:34:56Z"
                  supported_pgedge_versions:
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
            id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
            status:
                state: error
            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
        required:
            - id
            - tenant_id
            - status
            - hosts
    ClusterJoinToken:
        title: ClusterJoinToken
        type: object
        properties:
            server_url:
                type: string
                description: Existing server to join
                example: http://192.168.1.1:3000
                format: uri
            token:
                type: string
                description: Token to join an existing cluster.
                example: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
        example:
            server_url: http://192.168.1.1:3000
            token: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
        required:
            - token
            - server_url
    ClusterStatus:
        title: ClusterStatus
        type: object
        properties:
            state:
                type: string
                description: The current state of the cluster.
                example: available
                enum:
                    - available
                    - error
        example:
            state: error
        required:
            - state
    ComponentStatus:
        title: ComponentStatus
        type: object
        properties:
            details:
                type: object
                description: Additional details about the component.
                example:
                    alarms:
                        - '3: NOSPACE'
                additionalProperties: true
            error:
                type: string
                description: Error message from any errors that occurred during the health check.
                example: failed to connect to etcd
            healthy:
                type: boolean
                description: Indicates if the component is healthy.
                example: false
        example:
            details:
                alarms:
                    - '3: NOSPACE'
            error: failed to connect to etcd
            healthy: false
        required:
            - error
            - details
    ControlPlaneCreateDatabaseClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: create-database_cluster_not_initialized_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneCreateDatabaseDatabaseAlreadyExistsResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: create-database_database_already_exists_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneCreateDatabaseInvalidInputResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: create-database_invalid_input_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneCreateDatabaseResponseBody:
        title: 'Mediatype identifier: database; view=default'
        type: object
        properties:
            created_at:
                type: string
                description: The time that the database was created.
                example: "2025-01-01T01:30:00Z"
                format: date-time
            id:
                type: string
                description: Unique identifier for the database.
                example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                format: uuid
            instances:
                $ref: '#/definitions/InstanceResponseBodyAbbreviatedCollection'
            spec:
                $ref: '#/definitions/DatabaseSpec'
            state:
                type: string
                description: Current state of the database.
                example: creating
                enum:
                    - creating
                    - modifying
                    - available
                    - deleting
                    - degraded
                    - unknown
            tenant_id:
                type: string
                description: Unique identifier for the databases's owner.
                example: 8210ec10-2dca-406c-ac4a-0661d2189954
                format: uuid
            updated_at:
                type: string
                description: The time that the database was last updated.
                example: "2025-01-01T02:30:00Z"
                format: date-time
        description: Create-DatabaseResponseBody result type (default view)
        example:
            created_at: "2025-01-01T01:30:00Z"
            id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
            spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
            state: deleting
            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            updated_at: "2025-01-01T02:30:00Z"
        required:
            - id
            - created_at
            - updated_at
            - state
    ControlPlaneDatabaseResponseAbbreviatedCollection:
        title: 'Mediatype identifier: database; type=collection; view=abbreviated'
        type: array
        items:
            $ref: '#/definitions/DatabaseResponseAbbreviated'
        description: ControlPlaneDatabaseResponseAbbreviatedCollection is the result type for an array of DatabaseResponseAbbreviated (default view)
        example:
            - created_at: "2025-01-01T01:30:00Z"
              id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
              instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
              spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
              state: modifying
              tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
              updated_at: "2025-01-01T02:30:00Z"
            - created_at: "2025-01-01T01:30:00Z"
              id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
              instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
              spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
              state: modifying
              tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
              updated_at: "2025-01-01T02:30:00Z"
            - created_at: "2025-01-01T01:30:00Z"
              id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
              instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
              spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
              state: modifying
              tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
              updated_at: "2025-01-01T02:30:00Z"
            - created_at: "2025-01-01T01:30:00Z"
              id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
              instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
              spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
              state: modifying
              tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
              updated_at: "2025-01-01T02:30:00Z"
    ControlPlaneDeleteDatabaseClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: delete-database_cluster_not_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneGetJoinTokenClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: get-join-token_cluster_not_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneInitClusterClusterAlreadyInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: init-cluster_cluster_already_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneInspectClusterClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: inspect-cluster_cluster_not_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneInspectDatabaseClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: inspect-database_cluster_not_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneInspectDatabaseResponseBody:
        title: 'Mediatype identifier: database; view=default'
        type: object
        properties:
            created_at:
                type: string
                description: The time that the database was created.
                example: "2025-01-01T01:30:00Z"
                format: date-time
            id:
                type: string
                description: Unique identifier for the database.
                example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                format: uuid
            instances:
                $ref: '#/definitions/InstanceResponseBodyAbbreviatedCollection'
            spec:
                $ref: '#/definitions/DatabaseSpec'
            state:
                type: string
                description: Current state of the database.
                example: deleting
                enum:
                    - creating
                    - modifying
                    - available
                    - deleting
                    - degraded
                    - unknown
            tenant_id:
                type: string
                description: Unique identifier for the databases's owner.
                example: 8210ec10-2dca-406c-ac4a-0661d2189954
                format: uuid
            updated_at:
                type: string
                description: The time that the database was last updated.
                example: "2025-01-01T02:30:00Z"
                format: date-time
        description: Inspect-DatabaseResponseBody result type (default view)
        example:
            created_at: "2025-01-01T01:30:00Z"
            id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
            spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
            state: available
            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            updated_at: "2025-01-01T02:30:00Z"
        required:
            - id
            - created_at
            - updated_at
            - state
    ControlPlaneInspectHostClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: inspect-host_cluster_not_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneJoinClusterClusterAlreadyInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: join-cluster_cluster_already_initialized_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneListDatabasesClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: list-databases_cluster_not_initialized_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneListHostsClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: list-hosts_cluster_not_initialized_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneRemoveHostClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: remove-host_cluster_not_initialized_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneUpdateDatabaseClusterNotInitializedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: update-database_cluster_not_initialized_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ControlPlaneUpdateDatabaseResponseBody:
        title: 'Mediatype identifier: database; view=default'
        type: object
        properties:
            created_at:
                type: string
                description: The time that the database was created.
                example: "2025-01-01T01:30:00Z"
                format: date-time
            id:
                type: string
                description: Unique identifier for the database.
                example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                format: uuid
            instances:
                $ref: '#/definitions/InstanceResponseBodyAbbreviatedCollection'
            spec:
                $ref: '#/definitions/DatabaseSpec'
            state:
                type: string
                description: Current state of the database.
                example: degraded
                enum:
                    - creating
                    - modifying
                    - available
                    - deleting
                    - degraded
                    - unknown
            tenant_id:
                type: string
                description: Unique identifier for the databases's owner.
                example: 8210ec10-2dca-406c-ac4a-0661d2189954
                format: uuid
            updated_at:
                type: string
                description: The time that the database was last updated.
                example: "2025-01-01T02:30:00Z"
                format: date-time
        description: Update-DatabaseResponseBody result type (default view)
        example:
            created_at: "2025-01-01T01:30:00Z"
            id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
            spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
            state: deleting
            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            updated_at: "2025-01-01T02:30:00Z"
        required:
            - id
            - created_at
            - updated_at
            - state
    CreateDatabaseRequest:
        title: CreateDatabaseRequest
        type: object
        properties:
            id:
                type: string
                description: Unique identifier for the database.
                example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                format: uuid
            spec:
                $ref: '#/definitions/DatabaseSpec'
            tenant_id:
                type: string
                description: Unique identifier for the databases's owner.
                example: 8210ec10-2dca-406c-ac4a-0661d2189954
                format: uuid
        example:
            id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: true
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: true
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: true
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
    DatabaseNodeSpec:
        title: DatabaseNodeSpec
        type: object
        properties:
            backup_config:
                $ref: '#/definitions/BackupConfigSpec'
            cpus:
                type: string
                description: The number of CPUs to allocate for the database on this node and to use for tuning Postgres. Defaults to the number of available CPUs on the host. Can include an SI suffix, e.g. '500m' for 500 millicpus. Whether this limit will be enforced depends on the orchestrator.
                example: 500m
            host_ids:
                type: array
                items:
                    type: string
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                description: The IDs of the hosts that should run this node. When multiple hosts are specified, one host will chosen as a primary and the others will be read replicas.
                example:
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                minItems: 1
            memory:
                type: string
                description: The amount of memory in SI or IEC notation to allocate for the database on this node and to use for tuning Postgres. Defaults to the total available memory on the host. Whether this limit will be enforced depends on the orchestrator.
                example: 500M
            name:
                type: string
                description: The name of the database node.
                example: n1
                pattern: n[0-9]+
            port:
                type: integer
                description: The port used by the Postgres database for this node. Overrides the Postgres port set in the DatabaseSpec.
                example: 5432
                format: int64
            postgres_version:
                type: string
                description: The major version of Postgres for this node. Overrides the Postgres version set in the DatabaseSpec.
                example: "17"
                enum:
                    - "16"
                    - "17"
            postgresql_conf:
                type: object
                description: Additional postgresql.conf settings for this particular node. Will be merged with the settings provided by control-plane.
                example:
                    max_connections: 1000
                additionalProperties: true
            storage_class:
                type: string
                description: The storage class to use for the database on this node. The possible values and defaults depend on the orchestrator.
                example: loop_device
            storage_size:
                type: string
                description: The size of the storage for this node in SI or IEC notation. Support for this value depends on the orchestrator and storage class.
                example: 500GiB
        example:
            backup_config:
                id: default
                provider: pgbackrest
                repositories:
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                schedules:
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
            cpus: 500m
            host_ids:
                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
            memory: 500M
            name: n1
            port: 5432
            postgres_version: "17"
            postgresql_conf:
                max_connections: 1000
            storage_class: loop_device
            storage_size: 500GiB
        required:
            - name
            - host_ids
    DatabaseResponseAbbreviated:
        title: 'Mediatype identifier: database; view=default'
        type: object
        properties:
            created_at:
                type: string
                description: The time that the database was created.
                example: "2025-01-01T01:30:00Z"
                format: date-time
            id:
                type: string
                description: Unique identifier for the database.
                example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                format: uuid
            instances:
                $ref: '#/definitions/InstanceResponseAbbreviatedCollection'
            state:
                type: string
                description: Current state of the database.
                example: modifying
                enum:
                    - creating
                    - modifying
                    - available
                    - deleting
                    - degraded
                    - unknown
            tenant_id:
                type: string
                description: Unique identifier for the databases's owner.
                example: 8210ec10-2dca-406c-ac4a-0661d2189954
                format: uuid
            updated_at:
                type: string
                description: The time that the database was last updated.
                example: "2025-01-01T02:30:00Z"
                format: date-time
        description: DatabaseResponse result type (abbreviated view) (default view)
        example:
            created_at: "2025-01-01T01:30:00Z"
            id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            instances:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: backing_up
            state: degraded
            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            updated_at: "2025-01-01T02:30:00Z"
        required:
            - id
            - created_at
            - updated_at
            - state
    DatabaseSpec:
        title: DatabaseSpec
        type: object
        properties:
            backup_config:
                $ref: '#/definitions/BackupConfigSpec'
            cpus:
                type: string
                description: The number of CPUs to allocate for the database and to use for tuning Postgres. Defaults to the number of available CPUs on the host. Can include an SI suffix, e.g. '500m' for 500 millicpus. Whether this limit will be enforced depends on the orchestrator.
                example: 500m
            database_name:
                type: string
                description: The name of the Postgres database.
                example: northwind
            database_users:
                type: array
                items:
                    $ref: '#/definitions/DatabaseUserSpec'
                description: The users to create for this database.
                example:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
            deletion_protection:
                type: boolean
                description: Prevents deletion when true.
                example: true
            features:
                type: object
                description: The feature flags for this database.
                example:
                    some_feature: enabled
                additionalProperties:
                    type: string
                    example: Quia debitis in non quam numquam.
            memory:
                type: string
                description: The amount of memory in SI or IEC notation to allocate for the database and to use for tuning Postgres. Defaults to the total available memory on the host. Whether this limit will be enforced depends on the orchestrator.
                example: 500M
            nodes:
                type: array
                items:
                    $ref: '#/definitions/DatabaseNodeSpec'
                description: The Spock nodes for this database.
                example:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
            port:
                type: integer
                description: The port used by the Postgres database.
                example: 5432
                format: int64
            postgres_version:
                type: string
                description: The major version of the Postgres database.
                example: "17"
                enum:
                    - "16"
                    - "17"
            postgresql_conf:
                type: object
                description: Additional postgresql.conf settings. Will be merged with the settings provided by control-plane.
                example:
                    max_connections: 1000
                additionalProperties: true
            restore_config:
                $ref: '#/definitions/RestoreConfigSpec'
            spock_version:
                type: string
                description: The major version of the Spock extension.
                example: "4"
                enum:
                    - "4"
            storage_class:
                type: string
                description: The storage class to use for the database. The possible values and defaults depend on the orchestrator.
                example: loop_device
            storage_size:
                type: string
                description: The size of the storage in SI or IEC notation. Support for this value depends on the orchestrator and storage class.
                example: 500GiB
        example:
            backup_config:
                id: default
                provider: pgbackrest
                repositories:
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      base_path: /backups
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_region: us-east-1
                      type: s3
                schedules:
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
            cpus: 500m
            database_name: northwind
            database_users:
                - attributes:
                    - LOGIN
                    - CREATEDB
                    - CREATEROLE
                  db_owner: false
                  password: secret
                  roles:
                    - pgedge_superuser
                  username: admin
                - attributes:
                    - LOGIN
                    - CREATEDB
                    - CREATEROLE
                  db_owner: false
                  password: secret
                  roles:
                    - pgedge_superuser
                  username: admin
            deletion_protection: true
            features:
                some_feature: enabled
            memory: 500M
            nodes:
                - backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                  cpus: 500m
                  host_ids:
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  memory: 500M
                  name: n1
                  port: 5432
                  postgres_version: "17"
                  postgresql_conf:
                    max_connections: 1000
                  storage_class: loop_device
                  storage_size: 500GiB
                - backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                  cpus: 500m
                  host_ids:
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  memory: 500M
                  name: n1
                  port: 5432
                  postgres_version: "17"
                  postgresql_conf:
                    max_connections: 1000
                  storage_class: loop_device
                  storage_size: 500GiB
            port: 5432
            postgres_version: "17"
            postgresql_conf:
                max_connections: 1000
            restore_config:
                node_name: n1
                provider: pgbackrest
                repository:
                    azure_account: pgedge-backups
                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                    azure_endpoint: blob.core.usgovcloudapi.net
                    base_path: /backups
                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                    gcs_endpoint: localhost
                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                    s3_endpoint: s3.us-east-1.amazonaws.com
                    s3_region: us-east-1
                    type: s3
            spock_version: "4"
            storage_class: loop_device
            storage_size: 500GiB
        required:
            - database_name
            - nodes
    DatabaseUserSpec:
        title: DatabaseUserSpec
        type: object
        properties:
            attributes:
                type: array
                items:
                    type: string
                    example: Id aut id voluptates ut.
                description: The attributes to assign to this database user.
                example:
                    - LOGIN
                    - CREATEDB
                    - CREATEROLE
            db_owner:
                type: boolean
                description: If true, this user will be granted database ownership.
                example: false
            password:
                type: string
                description: The password for this database user.
                example: secret
            roles:
                type: array
                items:
                    type: string
                    example: Velit autem illum.
                description: The roles to assign to this database user.
                example:
                    - pgedge_superuser
            username:
                type: string
                description: The username for this database user.
                example: admin
        example:
            attributes:
                - LOGIN
                - CREATEDB
                - CREATEROLE
            db_owner: true
            password: secret
            roles:
                - pgedge_superuser
            username: admin
        required:
            - username
            - password
    Host:
        title: Host
        type: object
        properties:
            cohort:
                $ref: '#/definitions/HostCohort'
            cpus:
                type: integer
                description: The number of CPUs on this host.
                example: 4
                format: int64
            default_pgedge_version:
                $ref: '#/definitions/PgEdgeVersion'
            hostname:
                type: string
                description: The hostname of this host.
                example: i-0123456789abcdef.ec2.internal
            id:
                type: string
                description: Unique identifier for the host.
                example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                format: uuid
            ipv4_address:
                type: string
                description: The IPv4 address of this host.
                example: 10.24.34.0
                format: ipv4
            memory:
                type: string
                description: The amount of memory available on this host.
                example: 16GiB
            orchestrator:
                type: string
                description: The orchestrator used by this host.
                example: swarm
            status:
                $ref: '#/definitions/HostStatus'
            supported_pgedge_versions:
                type: array
                items:
                    $ref: '#/definitions/PgEdgeVersion'
                description: The PgEdge versions supported by this host.
                example:
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
        example:
            cohort:
                cohort_id: pps1n11hqijn9rbee4cjil453
                control_available: true
                member_id: lah4bsznw6kc0hp7biylmmmll
                type: swarm
            cpus: 4
            default_pgedge_version:
                postgres_version: "16"
                spock_version: "4"
            hostname: i-0123456789abcdef.ec2.internal
            id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
            ipv4_address: 10.24.34.0
            memory: 16GiB
            orchestrator: swarm
            status:
                components:
                    Eum sequi enim.:
                        details:
                            alarms:
                                - '3: NOSPACE'
                        error: failed to connect to etcd
                        healthy: false
                    Libero repellendus qui nobis.:
                        details:
                            alarms:
                                - '3: NOSPACE'
                        error: failed to connect to etcd
                        healthy: false
                state: available
                updated_at: "2021-07-01T12:34:56Z"
            supported_pgedge_versions:
                - postgres_version: "16"
                  spock_version: "4"
                - postgres_version: "16"
                  spock_version: "4"
                - postgres_version: "16"
                  spock_version: "4"
        required:
            - id
            - orchestrator
            - hostname
            - ipv4_address
            - cpus
            - memory
            - status
            - default_pgedge_version
            - supported_pgedge_versions
    HostCohort:
        title: HostCohort
        type: object
        properties:
            cohort_id:
                type: string
                description: The cohort ID that the host belongs to.
                example: pps1n11hqijn9rbee4cjil453
            control_available:
                type: boolean
                description: Indicates if the host is a control node in the cohort.
                example: true
            member_id:
                type: string
                description: The member ID of the host within the cohort.
                example: lah4bsznw6kc0hp7biylmmmll
            type:
                type: string
                description: The type of cohort that the host belongs to.
                example: swarm
        example:
            cohort_id: pps1n11hqijn9rbee4cjil453
            control_available: true
            member_id: lah4bsznw6kc0hp7biylmmmll
            type: swarm
        required:
            - type
            - cohort_id
            - member_id
            - control_available
    HostStatus:
        title: HostStatus
        type: object
        properties:
            components:
                type: object
                description: The status of each component of the host.
                example:
                    Illum id vero suscipit fugiat dignissimos modi.:
                        details:
                            alarms:
                                - '3: NOSPACE'
                        error: failed to connect to etcd
                        healthy: false
                    Omnis itaque cum ut pariatur tenetur.:
                        details:
                            alarms:
                                - '3: NOSPACE'
                        error: failed to connect to etcd
                        healthy: false
                    Repudiandae quia reiciendis et.:
                        details:
                            alarms:
                                - '3: NOSPACE'
                        error: failed to connect to etcd
                        healthy: false
                additionalProperties:
                    $ref: '#/definitions/ComponentStatus'
            state:
                type: string
                example: available
                enum:
                    - healthy
                    - unreachable
                    - degraded
                    - unknown
            updated_at:
                type: string
                description: The last time the host status was updated.
                example: "2021-07-01T12:34:56Z"
                format: date-time
        example:
            components:
                Explicabo blanditiis sint consequuntur officiis deleniti.:
                    details:
                        alarms:
                            - '3: NOSPACE'
                    error: failed to connect to etcd
                    healthy: false
                In ex molestiae corporis rem consequuntur.:
                    details:
                        alarms:
                            - '3: NOSPACE'
                    error: failed to connect to etcd
                    healthy: false
                Ratione id ut magni.:
                    details:
                        alarms:
                            - '3: NOSPACE'
                    error: failed to connect to etcd
                    healthy: false
            state: available
            updated_at: "2021-07-01T12:34:56Z"
        required:
            - state
            - updated_at
            - components
    InstanceResponseAbbreviated:
        title: 'Mediatype identifier: instance; view=default'
        type: object
        properties:
            host_id:
                type: string
                description: The ID of the host this instance is running on.
                example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                format: uuid
            id:
                type: string
                description: Unique identifier for the instance.
                example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                format: uuid
            node_name:
                type: string
                description: The Spock node name for this instance.
                example: n1
            state:
                type: string
                example: available
                enum:
                    - creating
                    - modifying
                    - backing_up
                    - restoring
                    - deleting
                    - available
                    - degraded
                    - unknown
        description: InstanceResponse result type (abbreviated view) (default view)
        example:
            host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
            id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
            node_name: n1
            state: creating
        required:
            - id
            - host_id
            - node_name
            - state
    InstanceResponseAbbreviatedCollection:
        title: 'Mediatype identifier: instance; type=collection; view=default'
        type: array
        items:
            $ref: '#/definitions/InstanceResponseAbbreviated'
        description: InstanceResponseAbbreviatedCollection is the result type for an array of InstanceResponseAbbreviated (default view)
        example:
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
    InstanceResponseBodyAbbreviated:
        title: 'Mediatype identifier: instance; view=default'
        type: object
        properties:
            host_id:
                type: string
                description: The ID of the host this instance is running on.
                example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                format: uuid
            id:
                type: string
                description: Unique identifier for the instance.
                example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                format: uuid
            node_name:
                type: string
                description: The Spock node name for this instance.
                example: n1
            state:
                type: string
                example: creating
                enum:
                    - creating
                    - modifying
                    - backing_up
                    - restoring
                    - deleting
                    - available
                    - degraded
                    - unknown
        description: InstanceResponseBody result type (abbreviated view) (default view)
        example:
            host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
            id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
            node_name: n1
            state: modifying
        required:
            - id
            - host_id
            - node_name
            - state
    InstanceResponseBodyAbbreviatedCollection:
        title: 'Mediatype identifier: instance; type=collection; view=default'
        type: array
        items:
            $ref: '#/definitions/InstanceResponseBodyAbbreviated'
        description: InstanceResponseBodyAbbreviatedCollection is the result type for an array of InstanceResponseBodyAbbreviated (default view)
        example:
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
            - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
              id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
              node_name: n1
              state: unknown
    PgEdgeVersion:
        title: PgEdgeVersion
        type: object
        properties:
            postgres_version:
                type: string
                description: The Postgres major version.
                example: "16"
            spock_version:
                type: string
                description: The Spock major version.
                example: "4"
        example:
            postgres_version: "16"
            spock_version: "4"
        required:
            - postgres_version
            - spock_version
    RestoreConfigSpec:
        title: RestoreConfigSpec
        type: object
        properties:
            node_name:
                type: string
                description: The name of the node to restore this database from.
                example: n1
            provider:
                type: string
                description: The backup provider for this restore configuration.
                example: pgbackrest
                enum:
                    - pgbackrest
                    - pg_dump
            repository:
                $ref: '#/definitions/RestoreRepositorySpec'
        example:
            node_name: n1
            provider: pgbackrest
            repository:
                azure_account: pgedge-backups
                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                azure_endpoint: blob.core.usgovcloudapi.net
                base_path: /backups
                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                gcs_endpoint: localhost
                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                s3_endpoint: s3.us-east-1.amazonaws.com
                s3_region: us-east-1
                type: s3
        required:
            - provider
            - node_name
            - repository
    RestoreRepositorySpec:
        title: RestoreRepositorySpec
        type: object
        properties:
            azure_account:
                type: string
                description: The Azure account name for this repository. Only applies when type = 'azure'.
                example: pgedge-backups
            azure_container:
                type: string
                description: The Azure container name for this repository. Only applies when type = 'azure'.
                example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            azure_endpoint:
                type: string
                description: The optional Azure endpoint for this repository. Only applies when type = 'azure'.
                example: blob.core.usgovcloudapi.net
            base_path:
                type: string
                description: The base path within the repository where backups are stored.
                example: /backups
            gcs_bucket:
                type: string
                description: The GCS bucket name for this repository. Only applies when type = 'gcs'.
                example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            gcs_endpoint:
                type: string
                description: The optional GCS endpoint for this repository. Only applies when type = 'gcs'.
                example: localhost
            id:
                type: string
                description: The unique identifier of this repository.
                example: f6b84a99-5e91-4203-be1e-131fe82e5984
                format: uuid
            s3_bucket:
                type: string
                description: The S3 bucket name for this repository. Only applies when type = 's3'.
                example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            s3_endpoint:
                type: string
                description: The optional S3 endpoint for this repository. Only applies when type = 's3'.
                example: s3.us-east-1.amazonaws.com
            s3_region:
                type: string
                description: The region of the S3 bucket for this repository. Only applies when type = 's3'.
                example: us-east-1
            type:
                type: string
                description: The type of this repository.
                example: s3
                enum:
                    - s3
                    - gcs
                    - azure
        example:
            azure_account: pgedge-backups
            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            azure_endpoint: blob.core.usgovcloudapi.net
            base_path: /backups
            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            gcs_endpoint: localhost
            id: f6b84a99-5e91-4203-be1e-131fe82e5984
            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
            s3_endpoint: s3.us-east-1.amazonaws.com
            s3_region: us-east-1
            type: s3
        required:
            - id
            - type
    UpdateDatabaseRequest:
        title: UpdateDatabaseRequest
        type: object
        properties:
            spec:
                $ref: '#/definitions/DatabaseSpec'
        example:
            spec:
                backup_config:
                    id: default
                    provider: pgbackrest
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          base_path: /backups
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                deletion_protection: true
                features:
                    some_feature: enabled
                memory: 500M
                nodes:
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                    - backup_config:
                        id: default
                        provider: pgbackrest
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              base_path: /backups
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      storage_class: loop_device
                      storage_size: 500GiB
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    node_name: n1
                    provider: pgbackrest
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        base_path: /backups
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_region: us-east-1
                        type: s3
                spock_version: "4"
                storage_class: loop_device
                storage_size: 500GiB
