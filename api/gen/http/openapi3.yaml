openapi: 3.0.3
info:
    title: pgEdge Control Plane API
    description: Service for creating, modifying, and operating pgEdge databases.
    version: v0.1.0
servers:
    - url: http://localhost:3000
paths:
    /cluster:
        get:
            tags:
                - Cluster
            summary: Get cluster
            description: Returns information about the cluster.
            operationId: get-cluster
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Cluster'
                            example:
                                hosts:
                                    - cohort:
                                        cohort_id: pps1n11hqijn9rbee4cjil453
                                        control_available: true
                                        member_id: lah4bsznw6kc0hp7biylmmmll
                                        type: swarm
                                      cpus: 4
                                      default_pgedge_version:
                                        postgres_version: "16"
                                        spock_version: "4"
                                      hostname: i-0123456789abcdef.ec2.internal
                                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      ipv4_address: 10.24.34.0
                                      memory: 16GiB
                                      orchestrator: swarm
                                      status:
                                        components:
                                            Et quis.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                            Quibusdam aut ut ea.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                        state: available
                                        updated_at: "2021-07-01T12:34:56Z"
                                      supported_pgedge_versions:
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                    - cohort:
                                        cohort_id: pps1n11hqijn9rbee4cjil453
                                        control_available: true
                                        member_id: lah4bsznw6kc0hp7biylmmmll
                                        type: swarm
                                      cpus: 4
                                      default_pgedge_version:
                                        postgres_version: "16"
                                        spock_version: "4"
                                      hostname: i-0123456789abcdef.ec2.internal
                                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      ipv4_address: 10.24.34.0
                                      memory: 16GiB
                                      orchestrator: swarm
                                      status:
                                        components:
                                            Et quis.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                            Quibusdam aut ut ea.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                        state: available
                                        updated_at: "2021-07-01T12:34:56Z"
                                      supported_pgedge_versions:
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                    - cohort:
                                        cohort_id: pps1n11hqijn9rbee4cjil453
                                        control_available: true
                                        member_id: lah4bsznw6kc0hp7biylmmmll
                                        type: swarm
                                      cpus: 4
                                      default_pgedge_version:
                                        postgres_version: "16"
                                        spock_version: "4"
                                      hostname: i-0123456789abcdef.ec2.internal
                                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      ipv4_address: 10.24.34.0
                                      memory: 16GiB
                                      orchestrator: swarm
                                      status:
                                        components:
                                            Et quis.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                            Quibusdam aut ut ea.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                        state: available
                                        updated_at: "2021-07-01T12:34:56Z"
                                      supported_pgedge_versions:
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                status:
                                    state: error
                                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Rerum aliquam asperiores.
                                name: Aspernatur itaque explicabo qui quaerat corrupti eaque.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Velit autem illum.
                                name: Blanditiis nostrum id aut id voluptates ut.
    /cluster/init:
        get:
            tags:
                - Cluster
            summary: Initialize cluster
            description: Initializes a new cluster.
            operationId: init-cluster
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ClusterJoinToken'
                            example:
                                server_url: http://192.168.1.1:3000
                                token: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
                "409":
                    description: 'cluster_already_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quas totam.
                                name: Laborum dignissimos incidunt.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Repellendus in doloremque.
                                name: Possimus dicta laudantium.
    /cluster/join:
        post:
            tags:
                - Cluster
            summary: Join cluster
            description: Joins this host to an existing cluster.
            operationId: join-cluster
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ClusterJoinToken'
                        example:
                            server_url: http://192.168.1.1:3000
                            token: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
            responses:
                "204":
                    description: No Content response.
                "401":
                    description: 'invalid_join_token: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Atque aliquid excepturi sed doloribus temporibus.
                                name: Aperiam labore nam quisquam esse necessitatibus excepturi.
                "409":
                    description: 'cluster_already_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Non libero quibusdam et sapiente.
                                name: Officia rerum eum nemo autem iste illo.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quia reiciendis et odio omnis itaque cum.
                                name: Vel ab illum.
    /cluster/join-token:
        get:
            tags:
                - Cluster
            summary: Get cluster join token
            description: Gets the join token for this cluster.
            operationId: get-join-token
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ClusterJoinToken'
                            example:
                                server_url: http://192.168.1.1:3000
                                token: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Suscipit fugiat dignissimos modi accusamus.
                                name: Pariatur tenetur est illum id.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Explicabo blanditiis sint consequuntur officiis deleniti.
                                name: In ex molestiae corporis rem consequuntur.
    /databases:
        get:
            tags:
                - Database
            summary: List databases
            description: Lists all databases in the cluster.
            operationId: list-databases
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseResponseAbbreviatedCollection'
                            example:
                                - created_at: "2025-01-01T01:30:00Z"
                                  id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                  instances:
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                  state: creating
                                  tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                  updated_at: "2025-01-01T02:30:00Z"
                                - created_at: "2025-01-01T01:30:00Z"
                                  id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                  instances:
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                  state: creating
                                  tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                  updated_at: "2025-01-01T02:30:00Z"
                                - created_at: "2025-01-01T01:30:00Z"
                                  id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                  instances:
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      state: unknown
                                  state: creating
                                  tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                  updated_at: "2025-01-01T02:30:00Z"
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Sint reiciendis placeat.
                                name: Accusamus impedit.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Sed qui animi quia enim delectus.
                                name: Autem ipsa.
        post:
            tags:
                - Database
            summary: Create database
            description: Creates a new database in the cluster.
            operationId: create-database
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateDatabaseRequest'
                        example:
                            id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                            spec:
                                backup_config:
                                    repositories:
                                        - azure_account: pgedge-backups
                                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          azure_endpoint: blob.core.usgovcloudapi.net
                                          azure_key: YXpLZXk=
                                          base_path: /backups
                                          custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            storage-upload-chunk-size: 5MiB
                                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          gcs_endpoint: localhost
                                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                          retention_full: 2
                                          retention_full_type: count
                                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          s3_endpoint: s3.us-east-1.amazonaws.com
                                          s3_key: AKIAIOSFODNN7EXAMPLE
                                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                          s3_region: us-east-1
                                          type: s3
                                        - azure_account: pgedge-backups
                                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          azure_endpoint: blob.core.usgovcloudapi.net
                                          azure_key: YXpLZXk=
                                          base_path: /backups
                                          custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            storage-upload-chunk-size: 5MiB
                                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          gcs_endpoint: localhost
                                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                          retention_full: 2
                                          retention_full_type: count
                                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          s3_endpoint: s3.us-east-1.amazonaws.com
                                          s3_key: AKIAIOSFODNN7EXAMPLE
                                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                          s3_region: us-east-1
                                          type: s3
                                    schedules:
                                        - cron_expression: 0 6 * * ?
                                          id: daily-full-backup
                                          type: full
                                        - cron_expression: 0 6 * * ?
                                          id: daily-full-backup
                                          type: full
                                cpus: 500m
                                database_name: northwind
                                database_users:
                                    - attributes:
                                        - LOGIN
                                        - CREATEDB
                                        - CREATEROLE
                                      db_owner: true
                                      password: secret
                                      roles:
                                        - pgedge_superuser
                                      username: admin
                                    - attributes:
                                        - LOGIN
                                        - CREATEDB
                                        - CREATEROLE
                                      db_owner: true
                                      password: secret
                                      roles:
                                        - pgedge_superuser
                                      username: admin
                                extra_volumes:
                                    - destination_path: /backups/container
                                      host_path: /Users/user/backups/host
                                    - destination_path: /backups/container
                                      host_path: /Users/user/backups/host
                                    - destination_path: /backups/container
                                      host_path: /Users/user/backups/host
                                memory: 500M
                                nodes:
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                port: 5432
                                postgres_version: "17"
                                postgresql_conf:
                                    max_connections: 1000
                                restore_config:
                                    repository:
                                        azure_account: pgedge-backups
                                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                        azure_endpoint: blob.core.usgovcloudapi.net
                                        azure_key: YXpLZXk=
                                        base_path: /backups
                                        custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                        gcs_endpoint: localhost
                                        gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                        s3_endpoint: s3.us-east-1.amazonaws.com
                                        s3_key: AKIAIOSFODNN7EXAMPLE
                                        s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                        s3_region: us-east-1
                                        type: s3
                                    restore_options:
                                        set: 20250505-153628F
                                        target: "123456"
                                        type: xid
                                    source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                    source_database_name: northwind
                                    source_node_name: n1
                                spock_version: "4"
                            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateDatabaseResponse'
                            example:
                                database:
                                    created_at: "2025-01-01T01:30:00Z"
                                    id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    instances:
                                        - connection_info:
                                            hostname: i-0123456789abcdef.ec2.internal
                                            ipv4_address: 10.24.34.0
                                            port: 5432
                                          created_at: "2008-04-05T03:29:38Z"
                                          error: 'failed to get patroni status: connection refused'
                                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                          node_name: n1
                                          postgres:
                                            patroni_paused: false
                                            patroni_state: crashed
                                            pending_restart: true
                                            role: primary
                                            version: "17.5"
                                          spock:
                                            read_only: "off"
                                            subscriptions:
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                            version: 4.10.0
                                          state: available
                                          status_updated_at: "1989-01-18T08:35:28Z"
                                          updated_at: "2003-08-09T22:13:38Z"
                                        - connection_info:
                                            hostname: i-0123456789abcdef.ec2.internal
                                            ipv4_address: 10.24.34.0
                                            port: 5432
                                          created_at: "2008-04-05T03:29:38Z"
                                          error: 'failed to get patroni status: connection refused'
                                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                          node_name: n1
                                          postgres:
                                            patroni_paused: false
                                            patroni_state: crashed
                                            pending_restart: true
                                            role: primary
                                            version: "17.5"
                                          spock:
                                            read_only: "off"
                                            subscriptions:
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                            version: 4.10.0
                                          state: available
                                          status_updated_at: "1989-01-18T08:35:28Z"
                                          updated_at: "2003-08-09T22:13:38Z"
                                    spec:
                                        backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                        cpus: 500m
                                        database_name: northwind
                                        database_users:
                                            - attributes:
                                                - LOGIN
                                                - CREATEDB
                                                - CREATEROLE
                                              db_owner: false
                                              password: secret
                                              roles:
                                                - pgedge_superuser
                                              username: admin
                                            - attributes:
                                                - LOGIN
                                                - CREATEDB
                                                - CREATEROLE
                                              db_owner: false
                                              password: secret
                                              roles:
                                                - pgedge_superuser
                                              username: admin
                                        extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                        memory: 500M
                                        nodes:
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                        port: 5432
                                        postgres_version: "17"
                                        postgresql_conf:
                                            max_connections: 1000
                                        restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                        spock_version: "4"
                                    state: modifying
                                    tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                    updated_at: "2025-01-01T02:30:00Z"
                                task:
                                    completed_at: "2025-01-01T02:30:00Z"
                                    created_at: "2025-01-01T01:30:00Z"
                                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    error: failed to connect to database
                                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    node_name: n1
                                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                    status: pending
                                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Aut animi saepe dignissimos natus qui mollitia.
                                name: Ad est sed iusto repudiandae.
                "409":
                    description: 'operation_already_in_progress: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Qui aperiam minima consequatur provident.
                                name: Eveniet non ut rerum ullam sint.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Beatae vitae aut adipisci perspiciatis laudantium consectetur.
                                name: Sed sit laborum inventore corrupti cumque.
    /databases/{database_id}:
        delete:
            tags:
                - Database
            summary: Delete database
            description: Deletes a database from the cluster.
            operationId: delete-database
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to delete.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to delete.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DeleteDatabaseResponse'
                            example:
                                task:
                                    completed_at: "2025-01-01T02:30:00Z"
                                    created_at: "2025-01-01T01:30:00Z"
                                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    error: failed to connect to database
                                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    node_name: n1
                                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                    status: pending
                                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quo recusandae quibusdam fuga molestiae.
                                name: Qui et eius reiciendis accusamus.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Qui quam sint iure eum ducimus quia.
                                name: Quas nostrum eos reprehenderit harum sapiente qui.
                "409":
                    description: 'operation_already_in_progress: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Qui non.
                                name: Animi recusandae.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Dolorem impedit laudantium et quia commodi consequatur.
                                name: Sint ea omnis ut.
        get:
            tags:
                - Database
            summary: Get database
            description: Returns information about a particular database in the cluster.
            operationId: get-database
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to get.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to get.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ControlPlaneGetDatabaseResponseBody'
                            example:
                                created_at: "2025-01-01T01:30:00Z"
                                id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                instances:
                                    - connection_info:
                                        hostname: i-0123456789abcdef.ec2.internal
                                        ipv4_address: 10.24.34.0
                                        port: 5432
                                      created_at: "1991-01-18T08:21:24Z"
                                      error: 'failed to get patroni status: connection refused'
                                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      postgres:
                                        patroni_paused: false
                                        patroni_state: initializing new cluster
                                        pending_restart: false
                                        role: primary
                                        version: "17.5"
                                      spock:
                                        read_only: "off"
                                        subscriptions:
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                        version: 4.10.0
                                      state: modifying
                                      status_updated_at: "1981-04-02T10:17:50Z"
                                      updated_at: "1991-01-13T22:07:17Z"
                                    - connection_info:
                                        hostname: i-0123456789abcdef.ec2.internal
                                        ipv4_address: 10.24.34.0
                                        port: 5432
                                      created_at: "1991-01-18T08:21:24Z"
                                      error: 'failed to get patroni status: connection refused'
                                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      postgres:
                                        patroni_paused: false
                                        patroni_state: initializing new cluster
                                        pending_restart: false
                                        role: primary
                                        version: "17.5"
                                      spock:
                                        read_only: "off"
                                        subscriptions:
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                        version: 4.10.0
                                      state: modifying
                                      status_updated_at: "1981-04-02T10:17:50Z"
                                      updated_at: "1991-01-13T22:07:17Z"
                                    - connection_info:
                                        hostname: i-0123456789abcdef.ec2.internal
                                        ipv4_address: 10.24.34.0
                                        port: 5432
                                      created_at: "1991-01-18T08:21:24Z"
                                      error: 'failed to get patroni status: connection refused'
                                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      postgres:
                                        patroni_paused: false
                                        patroni_state: initializing new cluster
                                        pending_restart: false
                                        role: primary
                                        version: "17.5"
                                      spock:
                                        read_only: "off"
                                        subscriptions:
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                        version: 4.10.0
                                      state: modifying
                                      status_updated_at: "1981-04-02T10:17:50Z"
                                      updated_at: "1991-01-13T22:07:17Z"
                                    - connection_info:
                                        hostname: i-0123456789abcdef.ec2.internal
                                        ipv4_address: 10.24.34.0
                                        port: 5432
                                      created_at: "1991-01-18T08:21:24Z"
                                      error: 'failed to get patroni status: connection refused'
                                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                      node_name: n1
                                      postgres:
                                        patroni_paused: false
                                        patroni_state: initializing new cluster
                                        pending_restart: false
                                        role: primary
                                        version: "17.5"
                                      spock:
                                        read_only: "off"
                                        subscriptions:
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                            - name: sub_n1n2
                                              provider_node: n2
                                              status: down
                                        version: 4.10.0
                                      state: modifying
                                      status_updated_at: "1981-04-02T10:17:50Z"
                                      updated_at: "1991-01-13T22:07:17Z"
                                spec:
                                    backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                    cpus: 500m
                                    database_name: northwind
                                    database_users:
                                        - attributes:
                                            - LOGIN
                                            - CREATEDB
                                            - CREATEROLE
                                          db_owner: false
                                          password: secret
                                          roles:
                                            - pgedge_superuser
                                          username: admin
                                        - attributes:
                                            - LOGIN
                                            - CREATEDB
                                            - CREATEROLE
                                          db_owner: false
                                          password: secret
                                          roles:
                                            - pgedge_superuser
                                          username: admin
                                        - attributes:
                                            - LOGIN
                                            - CREATEDB
                                            - CREATEROLE
                                          db_owner: false
                                          password: secret
                                          roles:
                                            - pgedge_superuser
                                          username: admin
                                    extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                    memory: 500M
                                    nodes:
                                        - backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                          cpus: 500m
                                          extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                          host_ids:
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          memory: 500M
                                          name: n1
                                          port: 5432
                                          postgres_version: "17"
                                          postgresql_conf:
                                            max_connections: 1000
                                          restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                        - backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                          cpus: 500m
                                          extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                          host_ids:
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          memory: 500M
                                          name: n1
                                          port: 5432
                                          postgres_version: "17"
                                          postgresql_conf:
                                            max_connections: 1000
                                          restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                        - backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                          cpus: 500m
                                          extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                          host_ids:
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          memory: 500M
                                          name: n1
                                          port: 5432
                                          postgres_version: "17"
                                          postgresql_conf:
                                            max_connections: 1000
                                          restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                        - backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                          cpus: 500m
                                          extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                          host_ids:
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          memory: 500M
                                          name: n1
                                          port: 5432
                                          postgres_version: "17"
                                          postgresql_conf:
                                            max_connections: 1000
                                          restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                    port: 5432
                                    postgres_version: "17"
                                    postgresql_conf:
                                        max_connections: 1000
                                    restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                    spock_version: "4"
                                state: available
                                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                updated_at: "2025-01-01T02:30:00Z"
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quas et.
                                name: Debitis non expedita sequi eligendi delectus.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Et est et dolorem labore explicabo.
                                name: Beatae quasi ipsum.
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Consequatur sequi error et quibusdam.
                                name: Aut reprehenderit totam ea.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Excepturi consectetur accusantium ut.
                                name: Eos natus.
        post:
            tags:
                - Database
            summary: Update database
            description: Updates a database with the given specification.
            operationId: update-database
            parameters:
                - name: force_update
                  in: query
                  description: Force update the database even if the spec is the same.
                  allowEmptyValue: true
                  schema:
                    type: boolean
                    description: Force update the database even if the spec is the same.
                    example: true
                  example: true
                - name: database_id
                  in: path
                  description: ID of the database to update.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to update.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateDatabaseRequest'
                        example:
                            spec:
                                backup_config:
                                    repositories:
                                        - azure_account: pgedge-backups
                                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          azure_endpoint: blob.core.usgovcloudapi.net
                                          azure_key: YXpLZXk=
                                          base_path: /backups
                                          custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            storage-upload-chunk-size: 5MiB
                                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          gcs_endpoint: localhost
                                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                          retention_full: 2
                                          retention_full_type: count
                                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          s3_endpoint: s3.us-east-1.amazonaws.com
                                          s3_key: AKIAIOSFODNN7EXAMPLE
                                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                          s3_region: us-east-1
                                          type: s3
                                        - azure_account: pgedge-backups
                                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          azure_endpoint: blob.core.usgovcloudapi.net
                                          azure_key: YXpLZXk=
                                          base_path: /backups
                                          custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            storage-upload-chunk-size: 5MiB
                                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          gcs_endpoint: localhost
                                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                          retention_full: 2
                                          retention_full_type: count
                                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          s3_endpoint: s3.us-east-1.amazonaws.com
                                          s3_key: AKIAIOSFODNN7EXAMPLE
                                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                          s3_region: us-east-1
                                          type: s3
                                        - azure_account: pgedge-backups
                                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          azure_endpoint: blob.core.usgovcloudapi.net
                                          azure_key: YXpLZXk=
                                          base_path: /backups
                                          custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            storage-upload-chunk-size: 5MiB
                                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          gcs_endpoint: localhost
                                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                          retention_full: 2
                                          retention_full_type: count
                                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                          s3_endpoint: s3.us-east-1.amazonaws.com
                                          s3_key: AKIAIOSFODNN7EXAMPLE
                                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                          s3_region: us-east-1
                                          type: s3
                                    schedules:
                                        - cron_expression: 0 6 * * ?
                                          id: daily-full-backup
                                          type: full
                                        - cron_expression: 0 6 * * ?
                                          id: daily-full-backup
                                          type: full
                                        - cron_expression: 0 6 * * ?
                                          id: daily-full-backup
                                          type: full
                                        - cron_expression: 0 6 * * ?
                                          id: daily-full-backup
                                          type: full
                                cpus: 500m
                                database_name: northwind
                                database_users:
                                    - attributes:
                                        - LOGIN
                                        - CREATEDB
                                        - CREATEROLE
                                      db_owner: false
                                      password: secret
                                      roles:
                                        - pgedge_superuser
                                      username: admin
                                    - attributes:
                                        - LOGIN
                                        - CREATEDB
                                        - CREATEROLE
                                      db_owner: false
                                      password: secret
                                      roles:
                                        - pgedge_superuser
                                      username: admin
                                    - attributes:
                                        - LOGIN
                                        - CREATEDB
                                        - CREATEROLE
                                      db_owner: false
                                      password: secret
                                      roles:
                                        - pgedge_superuser
                                      username: admin
                                    - attributes:
                                        - LOGIN
                                        - CREATEDB
                                        - CREATEROLE
                                      db_owner: false
                                      password: secret
                                      roles:
                                        - pgedge_superuser
                                      username: admin
                                extra_volumes:
                                    - destination_path: /backups/container
                                      host_path: /Users/user/backups/host
                                    - destination_path: /backups/container
                                      host_path: /Users/user/backups/host
                                memory: 500M
                                nodes:
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                    - backup_config:
                                        repositories:
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                            - azure_account: pgedge-backups
                                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              azure_endpoint: blob.core.usgovcloudapi.net
                                              azure_key: YXpLZXk=
                                              base_path: /backups
                                              custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                storage-upload-chunk-size: 5MiB
                                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              gcs_endpoint: localhost
                                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                              retention_full: 2
                                              retention_full_type: count
                                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                              s3_endpoint: s3.us-east-1.amazonaws.com
                                              s3_key: AKIAIOSFODNN7EXAMPLE
                                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                              s3_region: us-east-1
                                              type: s3
                                        schedules:
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                            - cron_expression: 0 6 * * ?
                                              id: daily-full-backup
                                              type: full
                                      cpus: 500m
                                      extra_volumes:
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                        - destination_path: /backups/container
                                          host_path: /Users/user/backups/host
                                      host_ids:
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      memory: 500M
                                      name: n1
                                      port: 5432
                                      postgres_version: "17"
                                      postgresql_conf:
                                        max_connections: 1000
                                      restore_config:
                                        repository:
                                            azure_account: pgedge-backups
                                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            azure_endpoint: blob.core.usgovcloudapi.net
                                            azure_key: YXpLZXk=
                                            base_path: /backups
                                            custom_options:
                                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            gcs_endpoint: localhost
                                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                            s3_endpoint: s3.us-east-1.amazonaws.com
                                            s3_key: AKIAIOSFODNN7EXAMPLE
                                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                            s3_region: us-east-1
                                            type: s3
                                        restore_options:
                                            set: 20250505-153628F
                                            target: "123456"
                                            type: xid
                                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                        source_database_name: northwind
                                        source_node_name: n1
                                port: 5432
                                postgres_version: "17"
                                postgresql_conf:
                                    max_connections: 1000
                                restore_config:
                                    repository:
                                        azure_account: pgedge-backups
                                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                        azure_endpoint: blob.core.usgovcloudapi.net
                                        azure_key: YXpLZXk=
                                        base_path: /backups
                                        custom_options:
                                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                        gcs_endpoint: localhost
                                        gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                        s3_endpoint: s3.us-east-1.amazonaws.com
                                        s3_key: AKIAIOSFODNN7EXAMPLE
                                        s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                        s3_region: us-east-1
                                        type: s3
                                    restore_options:
                                        set: 20250505-153628F
                                        target: "123456"
                                        type: xid
                                    source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                    source_database_name: northwind
                                    source_node_name: n1
                                spock_version: "4"
                            tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UpdateDatabaseResponse'
                            example:
                                database:
                                    created_at: "2025-01-01T01:30:00Z"
                                    id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    instances:
                                        - connection_info:
                                            hostname: i-0123456789abcdef.ec2.internal
                                            ipv4_address: 10.24.34.0
                                            port: 5432
                                          created_at: "2008-04-05T03:29:38Z"
                                          error: 'failed to get patroni status: connection refused'
                                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                          node_name: n1
                                          postgres:
                                            patroni_paused: false
                                            patroni_state: crashed
                                            pending_restart: true
                                            role: primary
                                            version: "17.5"
                                          spock:
                                            read_only: "off"
                                            subscriptions:
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                            version: 4.10.0
                                          state: available
                                          status_updated_at: "1989-01-18T08:35:28Z"
                                          updated_at: "2003-08-09T22:13:38Z"
                                        - connection_info:
                                            hostname: i-0123456789abcdef.ec2.internal
                                            ipv4_address: 10.24.34.0
                                            port: 5432
                                          created_at: "2008-04-05T03:29:38Z"
                                          error: 'failed to get patroni status: connection refused'
                                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                          node_name: n1
                                          postgres:
                                            patroni_paused: false
                                            patroni_state: crashed
                                            pending_restart: true
                                            role: primary
                                            version: "17.5"
                                          spock:
                                            read_only: "off"
                                            subscriptions:
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                            version: 4.10.0
                                          state: available
                                          status_updated_at: "1989-01-18T08:35:28Z"
                                          updated_at: "2003-08-09T22:13:38Z"
                                    spec:
                                        backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                        cpus: 500m
                                        database_name: northwind
                                        database_users:
                                            - attributes:
                                                - LOGIN
                                                - CREATEDB
                                                - CREATEROLE
                                              db_owner: false
                                              password: secret
                                              roles:
                                                - pgedge_superuser
                                              username: admin
                                            - attributes:
                                                - LOGIN
                                                - CREATEDB
                                                - CREATEROLE
                                              db_owner: false
                                              password: secret
                                              roles:
                                                - pgedge_superuser
                                              username: admin
                                        extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                        memory: 500M
                                        nodes:
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                        port: 5432
                                        postgres_version: "17"
                                        postgresql_conf:
                                            max_connections: 1000
                                        restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                        spock_version: "4"
                                    state: modifying
                                    tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                    updated_at: "2025-01-01T02:30:00Z"
                                task:
                                    completed_at: "2025-01-01T02:30:00Z"
                                    created_at: "2025-01-01T01:30:00Z"
                                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    error: failed to connect to database
                                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    node_name: n1
                                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                    status: pending
                                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Magnam aspernatur.
                                name: Enim sit voluptates maxime hic aut.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Et et eius at praesentium ut dolorem.
                                name: Itaque dolores voluptatum dolor autem.
                "409":
                    description: 'operation_already_in_progress: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Ut et aut aut doloribus rem.
                                name: Placeat illo dolore totam accusamus alias ipsa.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Culpa animi dolor quam aliquid cupiditate.
                                name: Ullam minus dolore eos et.
    /databases/{database_id}/nodes/{node_name}/backups:
        post:
            tags:
                - Database
            summary: Backup database node
            description: Initiates a backup for a database node.
            operationId: backup-database-node
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to back up.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to back up.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                - name: node_name
                  in: path
                  description: Name of the node to back up.
                  required: true
                  schema:
                    type: string
                    description: Name of the node to back up.
                    example: n1
                  example: n1
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BackupOptions'
                        example:
                            annotations:
                                key: value
                            backup_options:
                                archive-check: "n"
                            type: full
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BackupDatabaseNodeResponse'
                            example:
                                task:
                                    completed_at: "2025-01-01T02:30:00Z"
                                    created_at: "2025-01-01T01:30:00Z"
                                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    error: failed to connect to database
                                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    node_name: n1
                                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                    status: pending
                                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Facere eius totam.
                                name: Nulla commodi quo.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quibusdam quis ipsa nihil facere ad.
                                name: Itaque aut aut cupiditate.
                "409":
                    description: 'operation_already_in_progress: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Veritatis et omnis non.
                                name: Iure quisquam.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Qui quod.
                                name: Consequuntur reprehenderit esse id labore.
    /databases/{database_id}/restore:
        post:
            tags:
                - Database
            summary: Restore database
            description: Perform an in-place restore one or more nodes using the given restore configuration.
            operationId: restore-database
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database to restore.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to restore.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RestoreDatabaseRequest'
                        example:
                            restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            target_nodes:
                                - n1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/RestoreDatabaseResponse'
                            example:
                                database:
                                    created_at: "2025-01-01T01:30:00Z"
                                    id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    instances:
                                        - connection_info:
                                            hostname: i-0123456789abcdef.ec2.internal
                                            ipv4_address: 10.24.34.0
                                            port: 5432
                                          created_at: "2008-04-05T03:29:38Z"
                                          error: 'failed to get patroni status: connection refused'
                                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                          node_name: n1
                                          postgres:
                                            patroni_paused: false
                                            patroni_state: crashed
                                            pending_restart: true
                                            role: primary
                                            version: "17.5"
                                          spock:
                                            read_only: "off"
                                            subscriptions:
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                            version: 4.10.0
                                          state: available
                                          status_updated_at: "1989-01-18T08:35:28Z"
                                          updated_at: "2003-08-09T22:13:38Z"
                                        - connection_info:
                                            hostname: i-0123456789abcdef.ec2.internal
                                            ipv4_address: 10.24.34.0
                                            port: 5432
                                          created_at: "2008-04-05T03:29:38Z"
                                          error: 'failed to get patroni status: connection refused'
                                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                                          node_name: n1
                                          postgres:
                                            patroni_paused: false
                                            patroni_state: crashed
                                            pending_restart: true
                                            role: primary
                                            version: "17.5"
                                          spock:
                                            read_only: "off"
                                            subscriptions:
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                                - name: sub_n1n2
                                                  provider_node: n2
                                                  status: down
                                            version: 4.10.0
                                          state: available
                                          status_updated_at: "1989-01-18T08:35:28Z"
                                          updated_at: "2003-08-09T22:13:38Z"
                                    spec:
                                        backup_config:
                                            repositories:
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                                - azure_account: pgedge-backups
                                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  azure_endpoint: blob.core.usgovcloudapi.net
                                                  azure_key: YXpLZXk=
                                                  base_path: /backups
                                                  custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    storage-upload-chunk-size: 5MiB
                                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  gcs_endpoint: localhost
                                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                  retention_full: 2
                                                  retention_full_type: count
                                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                  s3_region: us-east-1
                                                  type: s3
                                            schedules:
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                                - cron_expression: 0 6 * * ?
                                                  id: daily-full-backup
                                                  type: full
                                        cpus: 500m
                                        database_name: northwind
                                        database_users:
                                            - attributes:
                                                - LOGIN
                                                - CREATEDB
                                                - CREATEROLE
                                              db_owner: false
                                              password: secret
                                              roles:
                                                - pgedge_superuser
                                              username: admin
                                            - attributes:
                                                - LOGIN
                                                - CREATEDB
                                                - CREATEROLE
                                              db_owner: false
                                              password: secret
                                              roles:
                                                - pgedge_superuser
                                              username: admin
                                        extra_volumes:
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                            - destination_path: /backups/container
                                              host_path: /Users/user/backups/host
                                        memory: 500M
                                        nodes:
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                            - backup_config:
                                                repositories:
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                    - azure_account: pgedge-backups
                                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      azure_endpoint: blob.core.usgovcloudapi.net
                                                      azure_key: YXpLZXk=
                                                      base_path: /backups
                                                      custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                        storage-upload-chunk-size: 5MiB
                                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      gcs_endpoint: localhost
                                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                      retention_full: 2
                                                      retention_full_type: count
                                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                      s3_region: us-east-1
                                                      type: s3
                                                schedules:
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                                    - cron_expression: 0 6 * * ?
                                                      id: daily-full-backup
                                                      type: full
                                              cpus: 500m
                                              extra_volumes:
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                                - destination_path: /backups/container
                                                  host_path: /Users/user/backups/host
                                              host_ids:
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                              memory: 500M
                                              name: n1
                                              port: 5432
                                              postgres_version: "17"
                                              postgresql_conf:
                                                max_connections: 1000
                                              restore_config:
                                                repository:
                                                    azure_account: pgedge-backups
                                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    azure_endpoint: blob.core.usgovcloudapi.net
                                                    azure_key: YXpLZXk=
                                                    base_path: /backups
                                                    custom_options:
                                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    gcs_endpoint: localhost
                                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                    s3_region: us-east-1
                                                    type: s3
                                                restore_options:
                                                    set: 20250505-153628F
                                                    target: "123456"
                                                    type: xid
                                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                                source_database_name: northwind
                                                source_node_name: n1
                                        port: 5432
                                        postgres_version: "17"
                                        postgresql_conf:
                                            max_connections: 1000
                                        restore_config:
                                            repository:
                                                azure_account: pgedge-backups
                                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                azure_endpoint: blob.core.usgovcloudapi.net
                                                azure_key: YXpLZXk=
                                                base_path: /backups
                                                custom_options:
                                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                gcs_endpoint: localhost
                                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                                s3_endpoint: s3.us-east-1.amazonaws.com
                                                s3_key: AKIAIOSFODNN7EXAMPLE
                                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                                s3_region: us-east-1
                                                type: s3
                                            restore_options:
                                                set: 20250505-153628F
                                                target: "123456"
                                                type: xid
                                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                            source_database_name: northwind
                                            source_node_name: n1
                                        spock_version: "4"
                                    state: modifying
                                    tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                                    updated_at: "2025-01-01T02:30:00Z"
                                node_tasks:
                                    - completed_at: "2025-01-01T02:30:00Z"
                                      created_at: "2025-01-01T01:30:00Z"
                                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                      error: failed to connect to database
                                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      node_name: n1
                                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                      status: pending
                                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      type: restore
                                    - completed_at: "2025-01-01T02:30:00Z"
                                      created_at: "2025-01-01T01:30:00Z"
                                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                      error: failed to connect to database
                                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      node_name: n1
                                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                      status: pending
                                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      type: restore
                                    - completed_at: "2025-01-01T02:30:00Z"
                                      created_at: "2025-01-01T01:30:00Z"
                                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                      error: failed to connect to database
                                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      node_name: n1
                                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                      status: pending
                                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      type: restore
                                    - completed_at: "2025-01-01T02:30:00Z"
                                      created_at: "2025-01-01T01:30:00Z"
                                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                      error: failed to connect to database
                                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      node_name: n1
                                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                      status: pending
                                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      type: restore
                                task:
                                    completed_at: "2025-01-01T02:30:00Z"
                                    created_at: "2025-01-01T01:30:00Z"
                                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                    error: failed to connect to database
                                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    node_name: n1
                                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                    status: pending
                                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                    type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Explicabo deleniti cumque.
                                name: Est laudantium facilis ad nesciunt.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Omnis earum magnam voluptatem nesciunt sint magnam.
                                name: Quaerat atque quia quibusdam excepturi aut.
                "409":
                    description: 'operation_already_in_progress: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Nesciunt omnis rerum qui quia accusantium dolore.
                                name: Itaque eum tenetur.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quia magnam doloremque voluptate.
                                name: Laborum tempora quisquam cum illum enim est.
    /databases/{database_id}/tasks:
        get:
            tags:
                - Database
            summary: List database tasks
            description: Lists all tasks for a database.
            operationId: list-database-tasks
            parameters:
                - name: after_task_id
                  in: query
                  description: ID of the task to start from.
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: ID of the task to start from.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                  example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                - name: limit
                  in: query
                  description: Maximum number of tasks to return.
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Maximum number of tasks to return.
                    example: 100
                    format: int64
                  example: 100
                - name: sort_order
                  in: query
                  description: Sort order for the tasks.
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Sort order for the tasks.
                    example: ascend
                    enum:
                        - asc
                        - ascend
                        - ascending
                        - desc
                        - descend
                        - descending
                  example: ascend
                - name: database_id
                  in: path
                  description: ID of the database to list tasks for.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to list tasks for.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Task'
                                example:
                                    - completed_at: "2025-01-01T02:30:00Z"
                                      created_at: "2025-01-01T01:30:00Z"
                                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                      error: failed to connect to database
                                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      node_name: n1
                                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                      status: pending
                                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      type: restore
                                    - completed_at: "2025-01-01T02:30:00Z"
                                      created_at: "2025-01-01T01:30:00Z"
                                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                      error: failed to connect to database
                                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      node_name: n1
                                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                      status: pending
                                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                      type: restore
                            example:
                                - completed_at: "2025-01-01T02:30:00Z"
                                  created_at: "2025-01-01T01:30:00Z"
                                  database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                  error: failed to connect to database
                                  host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                  instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                  node_name: n1
                                  parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                  status: pending
                                  task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                  type: restore
                                - completed_at: "2025-01-01T02:30:00Z"
                                  created_at: "2025-01-01T01:30:00Z"
                                  database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                  error: failed to connect to database
                                  host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                  instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                  node_name: n1
                                  parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                  status: pending
                                  task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                  type: restore
                                - completed_at: "2025-01-01T02:30:00Z"
                                  created_at: "2025-01-01T01:30:00Z"
                                  database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                  error: failed to connect to database
                                  host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                  instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                  node_name: n1
                                  parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                  status: pending
                                  task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                  type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Nemo ut.
                                name: Cumque quae in cumque rerum.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Id est non et animi.
                                name: Quia enim quisquam.
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Dolore quisquam dolores veritatis odio voluptatem.
                                name: Quos autem perspiciatis odit iusto quis.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Quo reiciendis iure et dolore est.
                                name: Et omnis eum officia similique non blanditiis.
    /databases/{database_id}/tasks/{task_id}:
        get:
            tags:
                - Database
            summary: Get database task
            description: Returns information about a particular task.
            operationId: get-database-task
            parameters:
                - name: database_id
                  in: path
                  description: ID of the database the task belongs to.
                  required: true
                  schema:
                    type: string
                    description: ID of the database the task belongs to.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                - name: task_id
                  in: path
                  description: ID of the task to get.
                  required: true
                  schema:
                    type: string
                    description: ID of the task to get.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                  example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Task'
                            example:
                                completed_at: "2025-01-01T02:30:00Z"
                                created_at: "2025-01-01T01:30:00Z"
                                database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                error: failed to connect to database
                                host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                                instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                node_name: n1
                                parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                                status: pending
                                task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                type: restore
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Dolores quam aliquid est animi officia non.
                                name: Et velit.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Ut ut.
                                name: Quos accusamus accusamus vero earum.
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Repudiandae quasi dolores ut minima.
                                name: Nihil voluptatem nesciunt incidunt illo ut.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Corporis quisquam.
                                name: Accusantium molestiae nulla dolores et ut.
    /databases/{database_id}/tasks/{task_id}/log:
        get:
            tags:
                - Database
            summary: Get database task log
            description: Returns the log of a particular task for a database.
            operationId: get-database-task-log
            parameters:
                - name: after_entry_id
                  in: query
                  description: ID of the entry to start from.
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: ID of the entry to start from.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                  example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                - name: limit
                  in: query
                  description: Maximum number of entries to return.
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Maximum number of entries to return.
                    example: 100
                    format: int64
                  example: 100
                - name: database_id
                  in: path
                  description: ID of the database to get task log for.
                  required: true
                  schema:
                    type: string
                    description: ID of the database to get task log for.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                  example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                - name: task_id
                  in: path
                  description: ID of the task to get log for.
                  required: true
                  schema:
                    type: string
                    description: ID of the task to get log for.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                  example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TaskLog'
                            example:
                                database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                                entries:
                                    - fields:
                                        option.enabled: true
                                        status: creating
                                      message: task started
                                      timestamp: "2025-05-29T15:43:13Z"
                                    - fields:
                                        option.enabled: true
                                        status: creating
                                      message: task started
                                      timestamp: "2025-05-29T15:43:13Z"
                                last_entry_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                                task_status: pending
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Atque nesciunt rerum soluta.
                                name: Sed dolorem facere atque.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Sequi blanditiis eligendi aut.
                                name: Voluptas eaque incidunt accusamus magnam nisi ipsa.
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Magnam iure ad veniam quis.
                                name: Sit fugit nostrum veritatis maxime.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Eveniet qui velit veniam aut fugit consequuntur.
                                name: Et voluptates et ut omnis voluptates.
    /hosts:
        get:
            tags:
                - Host
            summary: List hosts
            description: Lists all hosts within the cluster.
            operationId: list-hosts
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Host'
                                example:
                                    - cohort:
                                        cohort_id: pps1n11hqijn9rbee4cjil453
                                        control_available: true
                                        member_id: lah4bsznw6kc0hp7biylmmmll
                                        type: swarm
                                      cpus: 4
                                      default_pgedge_version:
                                        postgres_version: "16"
                                        spock_version: "4"
                                      hostname: i-0123456789abcdef.ec2.internal
                                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      ipv4_address: 10.24.34.0
                                      memory: 16GiB
                                      orchestrator: swarm
                                      status:
                                        components:
                                            Expedita quia debitis in.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                        state: available
                                        updated_at: "2021-07-01T12:34:56Z"
                                      supported_pgedge_versions:
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                    - cohort:
                                        cohort_id: pps1n11hqijn9rbee4cjil453
                                        control_available: true
                                        member_id: lah4bsznw6kc0hp7biylmmmll
                                        type: swarm
                                      cpus: 4
                                      default_pgedge_version:
                                        postgres_version: "16"
                                        spock_version: "4"
                                      hostname: i-0123456789abcdef.ec2.internal
                                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      ipv4_address: 10.24.34.0
                                      memory: 16GiB
                                      orchestrator: swarm
                                      status:
                                        components:
                                            Expedita quia debitis in.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                        state: available
                                        updated_at: "2021-07-01T12:34:56Z"
                                      supported_pgedge_versions:
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                    - cohort:
                                        cohort_id: pps1n11hqijn9rbee4cjil453
                                        control_available: true
                                        member_id: lah4bsznw6kc0hp7biylmmmll
                                        type: swarm
                                      cpus: 4
                                      default_pgedge_version:
                                        postgres_version: "16"
                                        spock_version: "4"
                                      hostname: i-0123456789abcdef.ec2.internal
                                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                      ipv4_address: 10.24.34.0
                                      memory: 16GiB
                                      orchestrator: swarm
                                      status:
                                        components:
                                            Expedita quia debitis in.:
                                                details:
                                                    alarms:
                                                        - '3: NOSPACE'
                                                error: failed to connect to etcd
                                                healthy: false
                                        state: available
                                        updated_at: "2021-07-01T12:34:56Z"
                                      supported_pgedge_versions:
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                                        - postgres_version: "16"
                                          spock_version: "4"
                            example:
                                - cohort:
                                    cohort_id: pps1n11hqijn9rbee4cjil453
                                    control_available: true
                                    member_id: lah4bsznw6kc0hp7biylmmmll
                                    type: swarm
                                  cpus: 4
                                  default_pgedge_version:
                                    postgres_version: "16"
                                    spock_version: "4"
                                  hostname: i-0123456789abcdef.ec2.internal
                                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                  ipv4_address: 10.24.34.0
                                  memory: 16GiB
                                  orchestrator: swarm
                                  status:
                                    components:
                                        Expedita quia debitis in.:
                                            details:
                                                alarms:
                                                    - '3: NOSPACE'
                                            error: failed to connect to etcd
                                            healthy: false
                                    state: available
                                    updated_at: "2021-07-01T12:34:56Z"
                                  supported_pgedge_versions:
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                - cohort:
                                    cohort_id: pps1n11hqijn9rbee4cjil453
                                    control_available: true
                                    member_id: lah4bsznw6kc0hp7biylmmmll
                                    type: swarm
                                  cpus: 4
                                  default_pgedge_version:
                                    postgres_version: "16"
                                    spock_version: "4"
                                  hostname: i-0123456789abcdef.ec2.internal
                                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                  ipv4_address: 10.24.34.0
                                  memory: 16GiB
                                  orchestrator: swarm
                                  status:
                                    components:
                                        Expedita quia debitis in.:
                                            details:
                                                alarms:
                                                    - '3: NOSPACE'
                                            error: failed to connect to etcd
                                            healthy: false
                                    state: available
                                    updated_at: "2021-07-01T12:34:56Z"
                                  supported_pgedge_versions:
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                - cohort:
                                    cohort_id: pps1n11hqijn9rbee4cjil453
                                    control_available: true
                                    member_id: lah4bsznw6kc0hp7biylmmmll
                                    type: swarm
                                  cpus: 4
                                  default_pgedge_version:
                                    postgres_version: "16"
                                    spock_version: "4"
                                  hostname: i-0123456789abcdef.ec2.internal
                                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                  ipv4_address: 10.24.34.0
                                  memory: 16GiB
                                  orchestrator: swarm
                                  status:
                                    components:
                                        Expedita quia debitis in.:
                                            details:
                                                alarms:
                                                    - '3: NOSPACE'
                                            error: failed to connect to etcd
                                            healthy: false
                                    state: available
                                    updated_at: "2021-07-01T12:34:56Z"
                                  supported_pgedge_versions:
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                - cohort:
                                    cohort_id: pps1n11hqijn9rbee4cjil453
                                    control_available: true
                                    member_id: lah4bsznw6kc0hp7biylmmmll
                                    type: swarm
                                  cpus: 4
                                  default_pgedge_version:
                                    postgres_version: "16"
                                    spock_version: "4"
                                  hostname: i-0123456789abcdef.ec2.internal
                                  id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                  ipv4_address: 10.24.34.0
                                  memory: 16GiB
                                  orchestrator: swarm
                                  status:
                                    components:
                                        Expedita quia debitis in.:
                                            details:
                                                alarms:
                                                    - '3: NOSPACE'
                                            error: failed to connect to etcd
                                            healthy: false
                                    state: available
                                    updated_at: "2021-07-01T12:34:56Z"
                                  supported_pgedge_versions:
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Deserunt sed inventore quis pariatur.
                                name: Non cumque temporibus velit.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: In porro ad.
                                name: Odit sint est at et.
    /hosts/{host_id}:
        delete:
            tags:
                - Host
            summary: Remove host
            description: Removes a host from the cluster.
            operationId: remove-host
            parameters:
                - name: host_id
                  in: path
                  description: ID of the host to remove.
                  required: true
                  schema:
                    type: string
                    description: ID of the host to remove.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
            responses:
                "204":
                    description: No Content response.
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Vel ea eaque maiores.
                                name: Deleniti laborum corporis ducimus.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Voluptas placeat est quod harum.
                                name: Expedita quis voluptatem nemo atque ipsam.
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Omnis sit est.
                                name: Ipsa sunt est dolor blanditiis.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Modi quis excepturi blanditiis repellat.
                                name: Tenetur rem ut at aut neque.
        get:
            tags:
                - Host
            summary: Get host
            description: Returns information about a particular host in the cluster.
            operationId: get-host
            parameters:
                - name: host_id
                  in: path
                  description: ID of the host to get.
                  required: true
                  schema:
                    type: string
                    description: ID of the host to get.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Host'
                            example:
                                cohort:
                                    cohort_id: pps1n11hqijn9rbee4cjil453
                                    control_available: true
                                    member_id: lah4bsznw6kc0hp7biylmmmll
                                    type: swarm
                                cpus: 4
                                default_pgedge_version:
                                    postgres_version: "16"
                                    spock_version: "4"
                                hostname: i-0123456789abcdef.ec2.internal
                                id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                ipv4_address: 10.24.34.0
                                memory: 16GiB
                                orchestrator: swarm
                                status:
                                    components:
                                        Et quis.:
                                            details:
                                                alarms:
                                                    - '3: NOSPACE'
                                            error: failed to connect to etcd
                                            healthy: false
                                        Quibusdam aut ut ea.:
                                            details:
                                                alarms:
                                                    - '3: NOSPACE'
                                            error: failed to connect to etcd
                                            healthy: false
                                    state: available
                                    updated_at: "2021-07-01T12:34:56Z"
                                supported_pgedge_versions:
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                                    - postgres_version: "16"
                                      spock_version: "4"
                "400":
                    description: 'invalid_input: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Voluptate recusandae quisquam quo aliquid omnis.
                                name: Est modi.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Ea ratione.
                                name: Quis earum.
                "409":
                    description: 'cluster_not_initialized: Conflict response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Mollitia voluptatum accusamus accusamus nihil.
                                name: In dolorem sequi perferendis magni ea suscipit.
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Sed illum ad culpa dolor.
                                name: Beatae provident est et.
    /version:
        get:
            tags:
                - System
            summary: Get version
            description: Returns version information for this Control Plane server.
            operationId: get-version
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/VersionInfo'
                            example:
                                arch: amd64
                                revision: abc123
                                revision_time: "2025-01-01T01:30:00Z"
                                version: 1.0.0
                "500":
                    description: 'server_error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/APIError'
                            example:
                                message: Delectus qui velit.
                                name: In at eaque minima et in.
components:
    schemas:
        APIError:
            type: object
            properties:
                message:
                    type: string
                    description: The error message.
                    example: Rerum at eveniet consectetur facilis autem molestiae.
                name:
                    type: string
                    description: The name of the error.
                    example: Facere est mollitia qui excepturi debitis.
            description: A Control Plane API error.
            example:
                message: Id laudantium sed delectus vel ut distinctio.
                name: Velit dolorem sed alias est mollitia praesentium.
            required:
                - name
                - message
        BackupConfigSpec:
            type: object
            properties:
                repositories:
                    type: array
                    items:
                        $ref: '#/components/schemas/BackupRepositorySpec'
                    description: The repositories for this backup configuration.
                    example:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                    minItems: 1
                schedules:
                    type: array
                    items:
                        $ref: '#/components/schemas/BackupScheduleSpec'
                    description: The schedules for this backup configuration.
                    example:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
            example:
                repositories:
                    - azure_account: pgedge-backups
                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      azure_endpoint: blob.core.usgovcloudapi.net
                      azure_key: YXpLZXk=
                      base_path: /backups
                      custom_options:
                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                        storage-upload-chunk-size: 5MiB
                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      gcs_endpoint: localhost
                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                      retention_full: 2
                      retention_full_type: count
                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                      s3_endpoint: s3.us-east-1.amazonaws.com
                      s3_key: AKIAIOSFODNN7EXAMPLE
                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                      s3_region: us-east-1
                      type: s3
                schedules:
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
                    - cron_expression: 0 6 * * ?
                      id: daily-full-backup
                      type: full
            required:
                - repositories
        BackupDatabaseNodeResponse:
            type: object
            properties:
                task:
                    $ref: '#/components/schemas/Task'
            example:
                task:
                    completed_at: "2025-01-01T02:30:00Z"
                    created_at: "2025-01-01T01:30:00Z"
                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    error: failed to connect to database
                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    node_name: n1
                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                    status: pending
                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    type: restore
        BackupOptions:
            type: object
            properties:
                annotations:
                    type: object
                    description: Annotations for the backup.
                    example:
                        key: value
                    additionalProperties:
                        type: string
                        example: Maiores cumque esse.
                backup_options:
                    type: object
                    description: Options for the backup.
                    example:
                        archive-check: "n"
                    additionalProperties:
                        type: string
                        example: Placeat quod facere possimus sit commodi in.
                type:
                    type: string
                    description: The type of backup.
                    example: full
                    enum:
                        - full
                        - diff
                        - incr
            example:
                annotations:
                    key: value
                backup_options:
                    archive-check: "n"
                type: full
            required:
                - type
        BackupRepositorySpec:
            type: object
            properties:
                azure_account:
                    type: string
                    description: The Azure account name for this repository. Only applies when type = 'azure'.
                    example: pgedge-backups
                azure_container:
                    type: string
                    description: The Azure container name for this repository. Only applies when type = 'azure'.
                    example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                azure_endpoint:
                    type: string
                    description: The optional Azure endpoint for this repository. Only applies when type = 'azure'.
                    example: blob.core.usgovcloudapi.net
                azure_key:
                    type: string
                    description: An optional Azure storage account access key to use for this repository. If not provided, pgbackrest will use the VM's managed identity.
                    example: YXpLZXk=
                base_path:
                    type: string
                    description: The base path within the repository to store backups. Required for type = 'posix' and 'cifs'.
                    example: /backups
                custom_options:
                    type: object
                    description: Additional options to apply to this repository.
                    example:
                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                        storage-upload-chunk-size: 5MiB
                    additionalProperties:
                        type: string
                        example: Esse id natus aut omnis minus.
                gcs_bucket:
                    type: string
                    description: The GCS bucket name for this repository. Only applies when type = 'gcs'.
                    example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                gcs_endpoint:
                    type: string
                    description: The optional GCS endpoint for this repository. Only applies when type = 'gcs'.
                    example: localhost
                gcs_key:
                    type: string
                    description: Optional base64-encoded private key data. If omitted, pgbackrest will use the service account attached to the instance profile.
                    example: ZXhhbXBsZSBnY3Mga2V5Cg==
                id:
                    type: string
                    description: The unique identifier of this repository.
                    example: f6b84a99-5e91-4203-be1e-131fe82e5984
                retention_full:
                    type: integer
                    description: The count of full backups to retain or the time to retain full backups.
                    example: 2
                    format: int64
                retention_full_type:
                    type: string
                    description: The type of measure used for retention_full.
                    example: count
                    enum:
                        - time
                        - count
                s3_bucket:
                    type: string
                    description: The S3 bucket name for this repository. Only applies when type = 's3'.
                    example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                s3_endpoint:
                    type: string
                    description: The optional S3 endpoint for this repository. Only applies when type = 's3'.
                    example: s3.us-east-1.amazonaws.com
                s3_key:
                    type: string
                    description: An optional AWS access key ID to use for this repository. If not provided, pgbackrest will use the default credential provider chain.
                    example: AKIAIOSFODNN7EXAMPLE
                s3_key_secret:
                    type: string
                    description: The corresponding secret for the AWS access key ID in s3_key.
                    example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                s3_region:
                    type: string
                    description: The region of the S3 bucket for this repository. Only applies when type = 's3'.
                    example: us-east-1
                type:
                    type: string
                    description: The type of this repository.
                    example: s3
                    enum:
                        - s3
                        - gcs
                        - azure
                        - posix
                        - cifs
            example:
                azure_account: pgedge-backups
                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                azure_endpoint: blob.core.usgovcloudapi.net
                azure_key: YXpLZXk=
                base_path: /backups
                custom_options:
                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                    storage-upload-chunk-size: 5MiB
                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                gcs_endpoint: localhost
                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                retention_full: 2
                retention_full_type: count
                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                s3_endpoint: s3.us-east-1.amazonaws.com
                s3_key: AKIAIOSFODNN7EXAMPLE
                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                s3_region: us-east-1
                type: s3
            required:
                - type
        BackupScheduleSpec:
            type: object
            properties:
                cron_expression:
                    type: string
                    description: The cron expression for this schedule.
                    example: 0 6 * * ?
                id:
                    type: string
                    description: The unique identifier for this backup schedule.
                    example: daily-full-backup
                type:
                    type: string
                    description: The type of backup to take on this schedule.
                    example: full
                    enum:
                        - full
                        - incr
            example:
                cron_expression: 0 6 * * ?
                id: daily-full-backup
                type: full
            required:
                - id
                - type
                - cron_expression
        Cluster:
            type: object
            properties:
                hosts:
                    type: array
                    items:
                        $ref: '#/components/schemas/Host'
                    description: All of the hosts in the cluster.
                    example:
                        - cohort:
                            cohort_id: pps1n11hqijn9rbee4cjil453
                            control_available: true
                            member_id: lah4bsznw6kc0hp7biylmmmll
                            type: swarm
                          cpus: 4
                          default_pgedge_version:
                            postgres_version: "16"
                            spock_version: "4"
                          hostname: i-0123456789abcdef.ec2.internal
                          id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          ipv4_address: 10.24.34.0
                          memory: 16GiB
                          orchestrator: swarm
                          status:
                            components:
                                Dolorem veniam non.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Et voluptatum ex ea.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Nostrum repellendus sint qui qui.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                            state: available
                            updated_at: "2021-07-01T12:34:56Z"
                          supported_pgedge_versions:
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                        - cohort:
                            cohort_id: pps1n11hqijn9rbee4cjil453
                            control_available: true
                            member_id: lah4bsznw6kc0hp7biylmmmll
                            type: swarm
                          cpus: 4
                          default_pgedge_version:
                            postgres_version: "16"
                            spock_version: "4"
                          hostname: i-0123456789abcdef.ec2.internal
                          id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          ipv4_address: 10.24.34.0
                          memory: 16GiB
                          orchestrator: swarm
                          status:
                            components:
                                Dolorem veniam non.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Et voluptatum ex ea.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Nostrum repellendus sint qui qui.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                            state: available
                            updated_at: "2021-07-01T12:34:56Z"
                          supported_pgedge_versions:
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                        - cohort:
                            cohort_id: pps1n11hqijn9rbee4cjil453
                            control_available: true
                            member_id: lah4bsznw6kc0hp7biylmmmll
                            type: swarm
                          cpus: 4
                          default_pgedge_version:
                            postgres_version: "16"
                            spock_version: "4"
                          hostname: i-0123456789abcdef.ec2.internal
                          id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          ipv4_address: 10.24.34.0
                          memory: 16GiB
                          orchestrator: swarm
                          status:
                            components:
                                Dolorem veniam non.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Et voluptatum ex ea.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Nostrum repellendus sint qui qui.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                            state: available
                            updated_at: "2021-07-01T12:34:56Z"
                          supported_pgedge_versions:
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                        - cohort:
                            cohort_id: pps1n11hqijn9rbee4cjil453
                            control_available: true
                            member_id: lah4bsznw6kc0hp7biylmmmll
                            type: swarm
                          cpus: 4
                          default_pgedge_version:
                            postgres_version: "16"
                            spock_version: "4"
                          hostname: i-0123456789abcdef.ec2.internal
                          id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          ipv4_address: 10.24.34.0
                          memory: 16GiB
                          orchestrator: swarm
                          status:
                            components:
                                Dolorem veniam non.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Et voluptatum ex ea.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                                Nostrum repellendus sint qui qui.:
                                    details:
                                        alarms:
                                            - '3: NOSPACE'
                                    error: failed to connect to etcd
                                    healthy: false
                            state: available
                            updated_at: "2021-07-01T12:34:56Z"
                          supported_pgedge_versions:
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                            - postgres_version: "16"
                              spock_version: "4"
                id:
                    type: string
                    description: Unique identifier for the cluster.
                    example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                    format: uuid
                status:
                    $ref: '#/components/schemas/ClusterStatus'
                tenant_id:
                    type: string
                    description: Unique identifier for the cluster's owner.
                    example: 8210ec10-2dca-406c-ac4a-0661d2189954
                    format: uuid
            example:
                hosts:
                    - cohort:
                        cohort_id: pps1n11hqijn9rbee4cjil453
                        control_available: true
                        member_id: lah4bsznw6kc0hp7biylmmmll
                        type: swarm
                      cpus: 4
                      default_pgedge_version:
                        postgres_version: "16"
                        spock_version: "4"
                      hostname: i-0123456789abcdef.ec2.internal
                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      ipv4_address: 10.24.34.0
                      memory: 16GiB
                      orchestrator: swarm
                      status:
                        components:
                            Dolorem veniam non.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Et voluptatum ex ea.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Nostrum repellendus sint qui qui.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                        state: available
                        updated_at: "2021-07-01T12:34:56Z"
                      supported_pgedge_versions:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                    - cohort:
                        cohort_id: pps1n11hqijn9rbee4cjil453
                        control_available: true
                        member_id: lah4bsznw6kc0hp7biylmmmll
                        type: swarm
                      cpus: 4
                      default_pgedge_version:
                        postgres_version: "16"
                        spock_version: "4"
                      hostname: i-0123456789abcdef.ec2.internal
                      id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      ipv4_address: 10.24.34.0
                      memory: 16GiB
                      orchestrator: swarm
                      status:
                        components:
                            Dolorem veniam non.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Et voluptatum ex ea.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                            Nostrum repellendus sint qui qui.:
                                details:
                                    alarms:
                                        - '3: NOSPACE'
                                error: failed to connect to etcd
                                healthy: false
                        state: available
                        updated_at: "2021-07-01T12:34:56Z"
                      supported_pgedge_versions:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                status:
                    state: available
                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
            required:
                - id
                - tenant_id
                - status
                - hosts
        ClusterCredentials:
            type: object
            properties:
                ca_cert:
                    type: string
                    description: The base64-encoded CA certificate for the cluster.
                    example: ZGE4NDdkMzMtM2FiYi00YzE2LTkzOGQtNDRkODU2ZDFlZWZlCg==
                client_cert:
                    type: string
                    description: The base64-encoded etcd client certificate for the new cluster member.
                    example: NWM0MGMyZTAtYjAyYS00NzkxLTk0YjAtMjMyN2EyZGQ4ZDc3Cg==
                client_key:
                    type: string
                    description: The base64-encoded etcd client key for the new cluster member.
                    example: Y2FlNjhmODQtYjE1Ni00YWYyLWFhMWEtM2FhNzI2MmVhYTM0Cg==
                server_cert:
                    type: string
                    description: The base64-encoded etcd server certificate for the new cluster member.
                    example: Nzc1OGQyY2UtZjdjOC00YmE4LTk2ZmQtOWE3MjVmYmY3NDdiCg==
                server_key:
                    type: string
                    description: The base64-encoded etcd server key for the new cluster member.
                    example: NWRhNzY1ZGUtNzJkMi00OTU3LTk4ODUtOWRiZThjOGE5MGQ3Cg==
            example:
                ca_cert: ZGE4NDdkMzMtM2FiYi00YzE2LTkzOGQtNDRkODU2ZDFlZWZlCg==
                client_cert: NWM0MGMyZTAtYjAyYS00NzkxLTk0YjAtMjMyN2EyZGQ4ZDc3Cg==
                client_key: Y2FlNjhmODQtYjE1Ni00YWYyLWFhMWEtM2FhNzI2MmVhYTM0Cg==
                server_cert: Nzc1OGQyY2UtZjdjOC00YmE4LTk2ZmQtOWE3MjVmYmY3NDdiCg==
                server_key: NWRhNzY1ZGUtNzJkMi00OTU3LTk4ODUtOWRiZThjOGE5MGQ3Cg==
            required:
                - ca_cert
                - client_cert
                - client_key
                - server_cert
                - server_key
        ClusterJoinOptions:
            type: object
            properties:
                credentials:
                    $ref: '#/components/schemas/ClusterCredentials'
                peer:
                    $ref: '#/components/schemas/ClusterPeer'
            example:
                credentials:
                    ca_cert: ZGE4NDdkMzMtM2FiYi00YzE2LTkzOGQtNDRkODU2ZDFlZWZlCg==
                    client_cert: NWM0MGMyZTAtYjAyYS00NzkxLTk0YjAtMjMyN2EyZGQ4ZDc3Cg==
                    client_key: Y2FlNjhmODQtYjE1Ni00YWYyLWFhMWEtM2FhNzI2MmVhYTM0Cg==
                    server_cert: Nzc1OGQyY2UtZjdjOC00YmE4LTk2ZmQtOWE3MjVmYmY3NDdiCg==
                    server_key: NWRhNzY1ZGUtNzJkMi00OTU3LTk4ODUtOWRiZThjOGE5MGQ3Cg==
                peer:
                    client_url: http://192.168.1.1:2379
                    name: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    peer_url: http://192.168.1.1:2380
            required:
                - peer
        ClusterJoinRequest:
            type: object
            properties:
                host_id:
                    type: string
                    description: The unique identifier for the host that's joining the cluster.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                hostname:
                    type: string
                    description: The hostname of the host that's joining the cluster.
                    example: ip-10-1-0-113.ec2.internal
                ipv4_address:
                    type: string
                    description: The IPv4 address of the host that's joining the cluster.
                    example: 10.1.0.113
                    format: ipv4
                token:
                    type: string
                    description: Token to join the cluster.
                    example: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
            example:
                host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                hostname: ip-10-1-0-113.ec2.internal
                ipv4_address: 10.1.0.113
                token: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
            required:
                - token
                - host_id
                - hostname
                - ipv4_address
        ClusterJoinToken:
            type: object
            properties:
                server_url:
                    type: string
                    description: Existing server to join
                    example: http://192.168.1.1:3000
                    format: uri
                token:
                    type: string
                    description: Token to join an existing cluster.
                    example: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
            example:
                server_url: http://192.168.1.1:3000
                token: PGEDGE-dd440afcf5de20ef8e8cf54f6cb9f125fd55f90e64faa94b906130b31235e730-41e975f41d7ea61058f2fe2572cb52dd
            required:
                - token
                - server_url
        ClusterPeer:
            type: object
            properties:
                client_url:
                    type: string
                    description: The Etcd client endpoint for this cluster member.
                    example: http://192.168.1.1:2379
                    format: uri
                name:
                    type: string
                    description: The name of the cluster member.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                peer_url:
                    type: string
                    description: The Etcd peer endpoint for this cluster member.
                    example: http://192.168.1.1:2380
                    format: uri
            example:
                client_url: http://192.168.1.1:2379
                name: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                peer_url: http://192.168.1.1:2380
            required:
                - name
                - peer_url
                - client_url
        ClusterStatus:
            type: object
            properties:
                state:
                    type: string
                    description: The current state of the cluster.
                    example: available
                    enum:
                        - available
                        - error
            example:
                state: available
            required:
                - state
        ComponentStatus:
            type: object
            properties:
                details:
                    type: object
                    description: Additional details about the component.
                    example:
                        alarms:
                            - '3: NOSPACE'
                    additionalProperties: true
                error:
                    type: string
                    description: Error message from any errors that occurred during the health check.
                    example: failed to connect to etcd
                healthy:
                    type: boolean
                    description: Indicates if the component is healthy.
                    example: false
            example:
                details:
                    alarms:
                        - '3: NOSPACE'
                error: failed to connect to etcd
                healthy: false
            required:
                - error
                - details
        ControlPlaneGetDatabaseResponseBody:
            type: object
            properties:
                created_at:
                    type: string
                    description: The time that the database was created.
                    example: "2025-01-01T01:30:00Z"
                    format: date-time
                id:
                    type: string
                    description: Unique identifier for the database.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                instances:
                    $ref: '#/components/schemas/InstanceResponseBodyCollection'
                spec:
                    $ref: '#/components/schemas/DatabaseSpec'
                state:
                    type: string
                    description: Current state of the database.
                    example: degraded
                    enum:
                        - creating
                        - modifying
                        - available
                        - deleting
                        - degraded
                        - unknown
                tenant_id:
                    type: string
                    description: Unique identifier for the databases's owner.
                    example: 8210ec10-2dca-406c-ac4a-0661d2189954
                    format: uuid
                updated_at:
                    type: string
                    description: The time that the database was last updated.
                    example: "2025-01-01T02:30:00Z"
                    format: date-time
            description: Get-DatabaseResponseBody result type (default view)
            example:
                created_at: "2025-01-01T01:30:00Z"
                id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                instances:
                    - connection_info:
                        hostname: i-0123456789abcdef.ec2.internal
                        ipv4_address: 10.24.34.0
                        port: 5432
                      created_at: "1991-01-18T08:21:24Z"
                      error: 'failed to get patroni status: connection refused'
                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      postgres:
                        patroni_paused: false
                        patroni_state: initializing new cluster
                        pending_restart: false
                        role: primary
                        version: "17.5"
                      spock:
                        read_only: "off"
                        subscriptions:
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                        version: 4.10.0
                      state: modifying
                      status_updated_at: "1981-04-02T10:17:50Z"
                      updated_at: "1991-01-13T22:07:17Z"
                    - connection_info:
                        hostname: i-0123456789abcdef.ec2.internal
                        ipv4_address: 10.24.34.0
                        port: 5432
                      created_at: "1991-01-18T08:21:24Z"
                      error: 'failed to get patroni status: connection refused'
                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      postgres:
                        patroni_paused: false
                        patroni_state: initializing new cluster
                        pending_restart: false
                        role: primary
                        version: "17.5"
                      spock:
                        read_only: "off"
                        subscriptions:
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                        version: 4.10.0
                      state: modifying
                      status_updated_at: "1981-04-02T10:17:50Z"
                      updated_at: "1991-01-13T22:07:17Z"
                    - connection_info:
                        hostname: i-0123456789abcdef.ec2.internal
                        ipv4_address: 10.24.34.0
                        port: 5432
                      created_at: "1991-01-18T08:21:24Z"
                      error: 'failed to get patroni status: connection refused'
                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      postgres:
                        patroni_paused: false
                        patroni_state: initializing new cluster
                        pending_restart: false
                        role: primary
                        version: "17.5"
                      spock:
                        read_only: "off"
                        subscriptions:
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                        version: 4.10.0
                      state: modifying
                      status_updated_at: "1981-04-02T10:17:50Z"
                      updated_at: "1991-01-13T22:07:17Z"
                    - connection_info:
                        hostname: i-0123456789abcdef.ec2.internal
                        ipv4_address: 10.24.34.0
                        port: 5432
                      created_at: "1991-01-18T08:21:24Z"
                      error: 'failed to get patroni status: connection refused'
                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      postgres:
                        patroni_paused: false
                        patroni_state: initializing new cluster
                        pending_restart: false
                        role: primary
                        version: "17.5"
                      spock:
                        read_only: "off"
                        subscriptions:
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                        version: 4.10.0
                      state: modifying
                      status_updated_at: "1981-04-02T10:17:50Z"
                      updated_at: "1991-01-13T22:07:17Z"
                spec:
                    backup_config:
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                    cpus: 500m
                    database_name: northwind
                    database_users:
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                    extra_volumes:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                    memory: 500M
                    nodes:
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                    port: 5432
                    postgres_version: "17"
                    postgresql_conf:
                        max_connections: 1000
                    restore_config:
                        repository:
                            azure_account: pgedge-backups
                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            azure_endpoint: blob.core.usgovcloudapi.net
                            azure_key: YXpLZXk=
                            base_path: /backups
                            custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            gcs_endpoint: localhost
                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            s3_endpoint: s3.us-east-1.amazonaws.com
                            s3_key: AKIAIOSFODNN7EXAMPLE
                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                            s3_region: us-east-1
                            type: s3
                        restore_options:
                            set: 20250505-153628F
                            target: "123456"
                            type: xid
                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                        source_database_name: northwind
                        source_node_name: n1
                    spock_version: "4"
                state: available
                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                updated_at: "2025-01-01T02:30:00Z"
            required:
                - id
                - created_at
                - updated_at
                - state
        CreateDatabaseRequest:
            type: object
            properties:
                id:
                    type: string
                    description: Unique identifier for the database.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                spec:
                    $ref: '#/components/schemas/DatabaseSpec'
                tenant_id:
                    type: string
                    description: Unique identifier for the databases's owner.
                    example: 8210ec10-2dca-406c-ac4a-0661d2189954
                    format: uuid
            example:
                id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                spec:
                    backup_config:
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                    cpus: 500m
                    database_name: northwind
                    database_users:
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                    extra_volumes:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                    memory: 500M
                    nodes:
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                    port: 5432
                    postgres_version: "17"
                    postgresql_conf:
                        max_connections: 1000
                    restore_config:
                        repository:
                            azure_account: pgedge-backups
                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            azure_endpoint: blob.core.usgovcloudapi.net
                            azure_key: YXpLZXk=
                            base_path: /backups
                            custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            gcs_endpoint: localhost
                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            s3_endpoint: s3.us-east-1.amazonaws.com
                            s3_key: AKIAIOSFODNN7EXAMPLE
                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                            s3_region: us-east-1
                            type: s3
                        restore_options:
                            set: 20250505-153628F
                            target: "123456"
                            type: xid
                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                        source_database_name: northwind
                        source_node_name: n1
                    spock_version: "4"
                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
        CreateDatabaseResponse:
            type: object
            properties:
                database:
                    $ref: '#/components/schemas/Database'
                task:
                    $ref: '#/components/schemas/Task'
            example:
                database:
                    created_at: "2025-01-01T01:30:00Z"
                    id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    instances:
                        - connection_info:
                            hostname: i-0123456789abcdef.ec2.internal
                            ipv4_address: 10.24.34.0
                            port: 5432
                          created_at: "2008-04-05T03:29:38Z"
                          error: 'failed to get patroni status: connection refused'
                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                          node_name: n1
                          postgres:
                            patroni_paused: false
                            patroni_state: crashed
                            pending_restart: true
                            role: primary
                            version: "17.5"
                          spock:
                            read_only: "off"
                            subscriptions:
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                            version: 4.10.0
                          state: available
                          status_updated_at: "1989-01-18T08:35:28Z"
                          updated_at: "2003-08-09T22:13:38Z"
                        - connection_info:
                            hostname: i-0123456789abcdef.ec2.internal
                            ipv4_address: 10.24.34.0
                            port: 5432
                          created_at: "2008-04-05T03:29:38Z"
                          error: 'failed to get patroni status: connection refused'
                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                          node_name: n1
                          postgres:
                            patroni_paused: false
                            patroni_state: crashed
                            pending_restart: true
                            role: primary
                            version: "17.5"
                          spock:
                            read_only: "off"
                            subscriptions:
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                            version: 4.10.0
                          state: available
                          status_updated_at: "1989-01-18T08:35:28Z"
                          updated_at: "2003-08-09T22:13:38Z"
                    spec:
                        backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                        cpus: 500m
                        database_name: northwind
                        database_users:
                            - attributes:
                                - LOGIN
                                - CREATEDB
                                - CREATEROLE
                              db_owner: false
                              password: secret
                              roles:
                                - pgedge_superuser
                              username: admin
                            - attributes:
                                - LOGIN
                                - CREATEDB
                                - CREATEROLE
                              db_owner: false
                              password: secret
                              roles:
                                - pgedge_superuser
                              username: admin
                        extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                        memory: 500M
                        nodes:
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                        port: 5432
                        postgres_version: "17"
                        postgresql_conf:
                            max_connections: 1000
                        restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        spock_version: "4"
                    state: modifying
                    tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                    updated_at: "2025-01-01T02:30:00Z"
                task:
                    completed_at: "2025-01-01T02:30:00Z"
                    created_at: "2025-01-01T01:30:00Z"
                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    error: failed to connect to database
                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    node_name: n1
                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                    status: pending
                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    type: restore
        Database:
            type: object
            properties:
                created_at:
                    type: string
                    description: The time that the database was created.
                    example: "2025-01-01T01:30:00Z"
                    format: date-time
                id:
                    type: string
                    description: Unique identifier for the database.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                instances:
                    $ref: '#/components/schemas/InstanceCollection'
                spec:
                    $ref: '#/components/schemas/DatabaseSpec'
                state:
                    type: string
                    description: Current state of the database.
                    example: modifying
                    enum:
                        - creating
                        - modifying
                        - available
                        - deleting
                        - degraded
                        - unknown
                tenant_id:
                    type: string
                    description: Unique identifier for the databases's owner.
                    example: 8210ec10-2dca-406c-ac4a-0661d2189954
                    format: uuid
                updated_at:
                    type: string
                    description: The time that the database was last updated.
                    example: "2025-01-01T02:30:00Z"
                    format: date-time
            example:
                created_at: "2025-01-01T01:30:00Z"
                id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                instances:
                    - connection_info:
                        hostname: i-0123456789abcdef.ec2.internal
                        ipv4_address: 10.24.34.0
                        port: 5432
                      created_at: "2008-04-05T03:29:38Z"
                      error: 'failed to get patroni status: connection refused'
                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      postgres:
                        patroni_paused: false
                        patroni_state: crashed
                        pending_restart: true
                        role: primary
                        version: "17.5"
                      spock:
                        read_only: "off"
                        subscriptions:
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                        version: 4.10.0
                      state: available
                      status_updated_at: "1989-01-18T08:35:28Z"
                      updated_at: "2003-08-09T22:13:38Z"
                    - connection_info:
                        hostname: i-0123456789abcdef.ec2.internal
                        ipv4_address: 10.24.34.0
                        port: 5432
                      created_at: "2008-04-05T03:29:38Z"
                      error: 'failed to get patroni status: connection refused'
                      host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      postgres:
                        patroni_paused: false
                        patroni_state: crashed
                        pending_restart: true
                        role: primary
                        version: "17.5"
                      spock:
                        read_only: "off"
                        subscriptions:
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                            - name: sub_n1n2
                              provider_node: n2
                              status: down
                        version: 4.10.0
                      state: available
                      status_updated_at: "1989-01-18T08:35:28Z"
                      updated_at: "2003-08-09T22:13:38Z"
                spec:
                    backup_config:
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                    cpus: 500m
                    database_name: northwind
                    database_users:
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                    extra_volumes:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                    memory: 500M
                    nodes:
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                    port: 5432
                    postgres_version: "17"
                    postgresql_conf:
                        max_connections: 1000
                    restore_config:
                        repository:
                            azure_account: pgedge-backups
                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            azure_endpoint: blob.core.usgovcloudapi.net
                            azure_key: YXpLZXk=
                            base_path: /backups
                            custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            gcs_endpoint: localhost
                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            s3_endpoint: s3.us-east-1.amazonaws.com
                            s3_key: AKIAIOSFODNN7EXAMPLE
                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                            s3_region: us-east-1
                            type: s3
                        restore_options:
                            set: 20250505-153628F
                            target: "123456"
                            type: xid
                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                        source_database_name: northwind
                        source_node_name: n1
                    spock_version: "4"
                state: available
                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                updated_at: "2025-01-01T02:30:00Z"
            required:
                - id
                - created_at
                - updated_at
                - state
        DatabaseNodeSpec:
            type: object
            properties:
                backup_config:
                    $ref: '#/components/schemas/BackupConfigSpec'
                cpus:
                    type: string
                    description: The number of CPUs to allocate for the database on this node and to use for tuning Postgres. Defaults to the number of available CPUs on the host. Can include an SI suffix, e.g. '500m' for 500 millicpus. Whether this limit will be enforced depends on the orchestrator.
                    example: 500m
                extra_volumes:
                    type: array
                    items:
                        $ref: '#/components/schemas/ExtraVolumesSpec'
                    description: Optional list of external volumes to mount for this node only.
                    example:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                host_ids:
                    type: array
                    items:
                        type: string
                        example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        format: uuid
                    description: The IDs of the hosts that should run this node. When multiple hosts are specified, one host will chosen as a primary and the others will be read replicas.
                    example:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    minItems: 1
                memory:
                    type: string
                    description: The amount of memory in SI or IEC notation to allocate for the database on this node and to use for tuning Postgres. Defaults to the total available memory on the host. Whether this limit will be enforced depends on the orchestrator.
                    example: 500M
                name:
                    type: string
                    description: The name of the database node.
                    example: n1
                    pattern: n[0-9]+
                port:
                    type: integer
                    description: The port used by the Postgres database for this node. Overrides the Postgres port set in the DatabaseSpec.
                    example: 5432
                    format: int64
                postgres_version:
                    type: string
                    description: The major version of Postgres for this node. Overrides the Postgres version set in the DatabaseSpec.
                    example: "17"
                    enum:
                        - "16"
                        - "17"
                postgresql_conf:
                    type: object
                    description: Additional postgresql.conf settings for this particular node. Will be merged with the settings provided by control-plane.
                    example:
                        max_connections: 1000
                    additionalProperties: true
                restore_config:
                    $ref: '#/components/schemas/RestoreConfigSpec'
            example:
                backup_config:
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                extra_volumes:
                    - destination_path: /backups/container
                      host_path: /Users/user/backups/host
                    - destination_path: /backups/container
                      host_path: /Users/user/backups/host
                    - destination_path: /backups/container
                      host_path: /Users/user/backups/host
                host_ids:
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                memory: 500M
                name: n1
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        azure_key: YXpLZXk=
                        base_path: /backups
                        custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_key: AKIAIOSFODNN7EXAMPLE
                        s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                        s3_region: us-east-1
                        type: s3
                    restore_options:
                        set: 20250505-153628F
                        target: "123456"
                        type: xid
                    source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                    source_database_name: northwind
                    source_node_name: n1
            required:
                - name
                - host_ids
        DatabaseReplicaSpec:
            type: object
            properties:
                host_id:
                    type: string
                    description: The ID of the host that should run this read replica.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
            example:
                host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
            required:
                - host_id
        DatabaseResponseAbbreviated:
            type: object
            properties:
                created_at:
                    type: string
                    description: The time that the database was created.
                    example: "2025-01-01T01:30:00Z"
                    format: date-time
                id:
                    type: string
                    description: Unique identifier for the database.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                instances:
                    $ref: '#/components/schemas/InstanceResponseAbbreviatedCollection'
                state:
                    type: string
                    description: Current state of the database.
                    example: deleting
                    enum:
                        - creating
                        - modifying
                        - available
                        - deleting
                        - degraded
                        - unknown
                tenant_id:
                    type: string
                    description: Unique identifier for the databases's owner.
                    example: 8210ec10-2dca-406c-ac4a-0661d2189954
                    format: uuid
                updated_at:
                    type: string
                    description: The time that the database was last updated.
                    example: "2025-01-01T02:30:00Z"
                    format: date-time
            description: DatabaseResponse result type (abbreviated view)
            example:
                created_at: "2025-01-01T01:30:00Z"
                id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                instances:
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                state: unknown
                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                updated_at: "2025-01-01T02:30:00Z"
            required:
                - id
                - created_at
                - updated_at
                - state
        DatabaseResponseAbbreviatedCollection:
            type: array
            items:
                $ref: '#/components/schemas/DatabaseResponseAbbreviated'
            description: List-DatabasesResponseBody is the result type for an array of DatabaseResponse (abbreviated view)
            example:
                - created_at: "2025-01-01T01:30:00Z"
                  id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                  instances:
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                  state: creating
                  tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                  updated_at: "2025-01-01T02:30:00Z"
                - created_at: "2025-01-01T01:30:00Z"
                  id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                  instances:
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                    - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                      node_name: n1
                      state: unknown
                  state: creating
                  tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                  updated_at: "2025-01-01T02:30:00Z"
        DatabaseSpec:
            type: object
            properties:
                backup_config:
                    $ref: '#/components/schemas/BackupConfigSpec'
                cpus:
                    type: string
                    description: The number of CPUs to allocate for the database and to use for tuning Postgres. Defaults to the number of available CPUs on the host. Can include an SI suffix, e.g. '500m' for 500 millicpus. Whether this limit will be enforced depends on the orchestrator.
                    example: 500m
                database_name:
                    type: string
                    description: The name of the Postgres database.
                    example: northwind
                database_users:
                    type: array
                    items:
                        $ref: '#/components/schemas/DatabaseUserSpec'
                    description: The users to create for this database.
                    example:
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                extra_volumes:
                    type: array
                    items:
                        $ref: '#/components/schemas/ExtraVolumesSpec'
                    description: A list of extra volumes to mount. Each entry defines a host and container path.
                    example:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                memory:
                    type: string
                    description: The amount of memory in SI or IEC notation to allocate for the database and to use for tuning Postgres. Defaults to the total available memory on the host. Whether this limit will be enforced depends on the orchestrator.
                    example: 500M
                nodes:
                    type: array
                    items:
                        $ref: '#/components/schemas/DatabaseNodeSpec'
                    description: The Spock nodes for this database.
                    example:
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                port:
                    type: integer
                    description: The port used by the Postgres database.
                    example: 5432
                    format: int64
                postgres_version:
                    type: string
                    description: The major version of the Postgres database.
                    example: "17"
                    enum:
                        - "16"
                        - "17"
                postgresql_conf:
                    type: object
                    description: Additional postgresql.conf settings. Will be merged with the settings provided by control-plane.
                    example:
                        max_connections: 1000
                    additionalProperties: true
                restore_config:
                    $ref: '#/components/schemas/RestoreConfigSpec'
                spock_version:
                    type: string
                    description: The major version of the Spock extension.
                    example: "4"
                    enum:
                        - "4"
            example:
                backup_config:
                    repositories:
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                        - azure_account: pgedge-backups
                          azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          azure_endpoint: blob.core.usgovcloudapi.net
                          azure_key: YXpLZXk=
                          base_path: /backups
                          custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            storage-upload-chunk-size: 5MiB
                          gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          gcs_endpoint: localhost
                          gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                          id: f6b84a99-5e91-4203-be1e-131fe82e5984
                          retention_full: 2
                          retention_full_type: count
                          s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                          s3_endpoint: s3.us-east-1.amazonaws.com
                          s3_key: AKIAIOSFODNN7EXAMPLE
                          s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                          s3_region: us-east-1
                          type: s3
                    schedules:
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                        - cron_expression: 0 6 * * ?
                          id: daily-full-backup
                          type: full
                cpus: 500m
                database_name: northwind
                database_users:
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                    - attributes:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                      db_owner: false
                      password: secret
                      roles:
                        - pgedge_superuser
                      username: admin
                extra_volumes:
                    - destination_path: /backups/container
                      host_path: /Users/user/backups/host
                    - destination_path: /backups/container
                      host_path: /Users/user/backups/host
                    - destination_path: /backups/container
                      host_path: /Users/user/backups/host
                memory: 500M
                nodes:
                    - backup_config:
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      extra_volumes:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      restore_config:
                        repository:
                            azure_account: pgedge-backups
                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            azure_endpoint: blob.core.usgovcloudapi.net
                            azure_key: YXpLZXk=
                            base_path: /backups
                            custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            gcs_endpoint: localhost
                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            s3_endpoint: s3.us-east-1.amazonaws.com
                            s3_key: AKIAIOSFODNN7EXAMPLE
                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                            s3_region: us-east-1
                            type: s3
                        restore_options:
                            set: 20250505-153628F
                            target: "123456"
                            type: xid
                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                        source_database_name: northwind
                        source_node_name: n1
                    - backup_config:
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                      cpus: 500m
                      extra_volumes:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                      host_ids:
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                        - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                      memory: 500M
                      name: n1
                      port: 5432
                      postgres_version: "17"
                      postgresql_conf:
                        max_connections: 1000
                      restore_config:
                        repository:
                            azure_account: pgedge-backups
                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            azure_endpoint: blob.core.usgovcloudapi.net
                            azure_key: YXpLZXk=
                            base_path: /backups
                            custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            gcs_endpoint: localhost
                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            s3_endpoint: s3.us-east-1.amazonaws.com
                            s3_key: AKIAIOSFODNN7EXAMPLE
                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                            s3_region: us-east-1
                            type: s3
                        restore_options:
                            set: 20250505-153628F
                            target: "123456"
                            type: xid
                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                        source_database_name: northwind
                        source_node_name: n1
                port: 5432
                postgres_version: "17"
                postgresql_conf:
                    max_connections: 1000
                restore_config:
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        azure_key: YXpLZXk=
                        base_path: /backups
                        custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_key: AKIAIOSFODNN7EXAMPLE
                        s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                        s3_region: us-east-1
                        type: s3
                    restore_options:
                        set: 20250505-153628F
                        target: "123456"
                        type: xid
                    source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                    source_database_name: northwind
                    source_node_name: n1
                spock_version: "4"
            required:
                - database_name
                - nodes
        DatabaseUserSpec:
            type: object
            properties:
                attributes:
                    type: array
                    items:
                        type: string
                        example: Ut sint cumque quia non enim.
                    description: The attributes to assign to this database user.
                    example:
                        - LOGIN
                        - CREATEDB
                        - CREATEROLE
                db_owner:
                    type: boolean
                    description: If true, this user will be granted database ownership.
                    example: true
                password:
                    type: string
                    description: The password for this database user.
                    example: secret
                roles:
                    type: array
                    items:
                        type: string
                        example: Doloremque nam.
                    description: The roles to assign to this database user.
                    example:
                        - pgedge_superuser
                username:
                    type: string
                    description: The username for this database user.
                    example: admin
            example:
                attributes:
                    - LOGIN
                    - CREATEDB
                    - CREATEROLE
                db_owner: false
                password: secret
                roles:
                    - pgedge_superuser
                username: admin
            required:
                - username
                - password
        DeleteDatabaseResponse:
            type: object
            properties:
                task:
                    $ref: '#/components/schemas/Task'
            example:
                task:
                    completed_at: "2025-01-01T02:30:00Z"
                    created_at: "2025-01-01T01:30:00Z"
                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    error: failed to connect to database
                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    node_name: n1
                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                    status: pending
                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    type: restore
        ExtraVolumesSpec:
            type: object
            properties:
                destination_path:
                    type: string
                    description: The path inside the container where the volume will be mounted.
                    example: /backups/container
                host_path:
                    type: string
                    description: The host path for the volume.
                    example: /Users/user/backups/host
            description: Defines an extra volumes mapping between host and container.
            example:
                destination_path: /backups/container
                host_path: /Users/user/backups/host
            required:
                - host_path
                - destination_path
        Host:
            type: object
            properties:
                cohort:
                    $ref: '#/components/schemas/HostCohort'
                cpus:
                    type: integer
                    description: The number of CPUs on this host.
                    example: 4
                    format: int64
                default_pgedge_version:
                    $ref: '#/components/schemas/PgEdgeVersion'
                hostname:
                    type: string
                    description: The hostname of this host.
                    example: i-0123456789abcdef.ec2.internal
                id:
                    type: string
                    description: Unique identifier for the host.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                ipv4_address:
                    type: string
                    description: The IPv4 address of this host.
                    example: 10.24.34.0
                    format: ipv4
                memory:
                    type: string
                    description: The amount of memory available on this host.
                    example: 16GiB
                orchestrator:
                    type: string
                    description: The orchestrator used by this host.
                    example: swarm
                status:
                    $ref: '#/components/schemas/HostStatus'
                supported_pgedge_versions:
                    type: array
                    items:
                        $ref: '#/components/schemas/PgEdgeVersion'
                    description: The PgEdge versions supported by this host.
                    example:
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
                        - postgres_version: "16"
                          spock_version: "4"
            example:
                cohort:
                    cohort_id: pps1n11hqijn9rbee4cjil453
                    control_available: true
                    member_id: lah4bsznw6kc0hp7biylmmmll
                    type: swarm
                cpus: 4
                default_pgedge_version:
                    postgres_version: "16"
                    spock_version: "4"
                hostname: i-0123456789abcdef.ec2.internal
                id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                ipv4_address: 10.24.34.0
                memory: 16GiB
                orchestrator: swarm
                status:
                    components:
                        Dolorem veniam non.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                        Et voluptatum ex ea.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                        Nostrum repellendus sint qui qui.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                    state: available
                    updated_at: "2021-07-01T12:34:56Z"
                supported_pgedge_versions:
                    - postgres_version: "16"
                      spock_version: "4"
                    - postgres_version: "16"
                      spock_version: "4"
            required:
                - id
                - orchestrator
                - hostname
                - ipv4_address
                - cpus
                - memory
                - status
        HostCohort:
            type: object
            properties:
                cohort_id:
                    type: string
                    description: The cohort ID that the host belongs to.
                    example: pps1n11hqijn9rbee4cjil453
                control_available:
                    type: boolean
                    description: Indicates if the host is a control node in the cohort.
                    example: true
                member_id:
                    type: string
                    description: The member ID of the host within the cohort.
                    example: lah4bsznw6kc0hp7biylmmmll
                type:
                    type: string
                    description: The type of cohort that the host belongs to.
                    example: swarm
            example:
                cohort_id: pps1n11hqijn9rbee4cjil453
                control_available: true
                member_id: lah4bsznw6kc0hp7biylmmmll
                type: swarm
            required:
                - type
                - cohort_id
                - member_id
                - control_available
        HostStatus:
            type: object
            properties:
                components:
                    type: object
                    description: The status of each component of the host.
                    example:
                        Mollitia illo delectus.:
                            details:
                                alarms:
                                    - '3: NOSPACE'
                            error: failed to connect to etcd
                            healthy: false
                    additionalProperties:
                        $ref: '#/components/schemas/ComponentStatus'
                state:
                    type: string
                    example: available
                    enum:
                        - healthy
                        - unreachable
                        - degraded
                        - unknown
                updated_at:
                    type: string
                    description: The last time the host status was updated.
                    example: "2021-07-01T12:34:56Z"
                    format: date-time
            example:
                components:
                    Ducimus aut aut.:
                        details:
                            alarms:
                                - '3: NOSPACE'
                        error: failed to connect to etcd
                        healthy: false
                state: available
                updated_at: "2021-07-01T12:34:56Z"
            required:
                - state
                - updated_at
                - components
        Instance:
            type: object
            properties:
                connection_info:
                    $ref: '#/components/schemas/InstanceConnectionInfo'
                created_at:
                    type: string
                    description: The time that the instance was created.
                    example: "1986-10-09T14:26:27Z"
                    format: date-time
                error:
                    type: string
                    description: An error message if the instance is in an error state.
                    example: 'failed to get patroni status: connection refused'
                host_id:
                    type: string
                    description: The ID of the host this instance is running on.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                id:
                    type: string
                    description: Unique identifier for the instance.
                    example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                    format: uuid
                node_name:
                    type: string
                    description: The Spock node name for this instance.
                    example: n1
                postgres:
                    $ref: '#/components/schemas/InstancePostgresStatus'
                spock:
                    $ref: '#/components/schemas/InstanceSpockStatus'
                state:
                    type: string
                    example: modifying
                    enum:
                        - creating
                        - modifying
                        - backing_up
                        - available
                        - degraded
                        - failed
                        - unknown
                status_updated_at:
                    type: string
                    description: The time that the instance status information was last updated.
                    example: "1978-03-05T05:43:46Z"
                    format: date-time
                updated_at:
                    type: string
                    description: The time that the instance was last modified.
                    example: "1977-01-02T23:24:38Z"
                    format: date-time
            description: An instance of pgEdge Postgres running on a host.
            example:
                connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                created_at: "1976-02-15T17:18:05Z"
                error: 'failed to get patroni status: connection refused'
                host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                node_name: n1
                postgres:
                    patroni_paused: false
                    patroni_state: crashed
                    pending_restart: true
                    role: primary
                    version: "17.5"
                spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                state: backing_up
                status_updated_at: "2009-02-23T04:10:14Z"
                updated_at: "1981-05-31T12:05:44Z"
            required:
                - id
                - host_id
                - node_name
                - created_at
                - updated_at
                - state
        InstanceCollection:
            type: array
            items:
                $ref: '#/components/schemas/Instance'
            example:
                - connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                  created_at: "2008-04-05T03:29:38Z"
                  error: 'failed to get patroni status: connection refused'
                  host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  postgres:
                    patroni_paused: false
                    patroni_state: crashed
                    pending_restart: true
                    role: primary
                    version: "17.5"
                  spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                  state: available
                  status_updated_at: "1989-01-18T08:35:28Z"
                  updated_at: "2003-08-09T22:13:38Z"
                - connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                  created_at: "2008-04-05T03:29:38Z"
                  error: 'failed to get patroni status: connection refused'
                  host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  postgres:
                    patroni_paused: false
                    patroni_state: crashed
                    pending_restart: true
                    role: primary
                    version: "17.5"
                  spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                  state: available
                  status_updated_at: "1989-01-18T08:35:28Z"
                  updated_at: "2003-08-09T22:13:38Z"
        InstanceConnectionInfo:
            type: object
            properties:
                hostname:
                    type: string
                    description: The hostname of the host that's running this instance.
                    example: i-0123456789abcdef.ec2.internal
                ipv4_address:
                    type: string
                    description: The IPv4 address of the host that's running this instance.
                    example: 10.24.34.0
                    format: ipv4
                port:
                    type: integer
                    description: The host port that Postgres is listening on for this instance.
                    example: 5432
                    format: int64
            description: Connection information for a pgEdge instance.
            example:
                hostname: i-0123456789abcdef.ec2.internal
                ipv4_address: 10.24.34.0
                port: 5432
        InstancePostgresStatus:
            type: object
            properties:
                patroni_paused:
                    type: boolean
                    description: True if Patroni has been paused for this instance.
                    example: true
                patroni_state:
                    type: string
                    example: initdb failed
                    enum:
                        - stopping
                        - stopped
                        - stop failed
                        - crashed
                        - running
                        - starting
                        - start failed
                        - restarting
                        - restart failed
                        - initializing new cluster
                        - initdb failed
                        - running custom bootstrap script
                        - custom bootstrap failed
                        - creating replica
                        - unknown
                pending_restart:
                    type: boolean
                    description: True if this instance is pending to be restarted from a configuration change.
                    example: true
                role:
                    type: string
                    example: replica
                    enum:
                        - replica
                        - primary
                version:
                    type: string
                    description: The version of Postgres for this instance.
                    example: "17.5"
            description: Postgres status information for a pgEdge instance.
            example:
                patroni_paused: true
                patroni_state: restarting
                pending_restart: true
                role: primary
                version: "17.5"
        InstanceResponseAbbreviated:
            type: object
            properties:
                host_id:
                    type: string
                    description: The ID of the host this instance is running on.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                id:
                    type: string
                    description: Unique identifier for the instance.
                    example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                    format: uuid
                node_name:
                    type: string
                    description: The Spock node name for this instance.
                    example: n1
                state:
                    type: string
                    example: degraded
                    enum:
                        - creating
                        - modifying
                        - backing_up
                        - available
                        - degraded
                        - failed
                        - unknown
            description: An instance of pgEdge Postgres running on a host. (abbreviated view)
            example:
                host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                node_name: n1
                state: failed
            required:
                - id
                - host_id
                - node_name
                - state
        InstanceResponseAbbreviatedCollection:
            type: array
            items:
                $ref: '#/components/schemas/InstanceResponseAbbreviated'
            description: InstanceCollectionResponse is the result type for an array of InstanceResponse (abbreviated view)
            example:
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: unknown
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: unknown
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: unknown
                - host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  state: unknown
        InstanceResponseBody:
            type: object
            properties:
                connection_info:
                    $ref: '#/components/schemas/InstanceConnectionInfo'
                created_at:
                    type: string
                    description: The time that the instance was created.
                    example: "1984-03-28T06:30:57Z"
                    format: date-time
                error:
                    type: string
                    description: An error message if the instance is in an error state.
                    example: 'failed to get patroni status: connection refused'
                host_id:
                    type: string
                    description: The ID of the host this instance is running on.
                    example: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                    format: uuid
                id:
                    type: string
                    description: Unique identifier for the instance.
                    example: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                    format: uuid
                node_name:
                    type: string
                    description: The Spock node name for this instance.
                    example: n1
                postgres:
                    $ref: '#/components/schemas/InstancePostgresStatus'
                spock:
                    $ref: '#/components/schemas/InstanceSpockStatus'
                state:
                    type: string
                    example: failed
                    enum:
                        - creating
                        - modifying
                        - backing_up
                        - available
                        - degraded
                        - failed
                        - unknown
                status_updated_at:
                    type: string
                    description: The time that the instance status information was last updated.
                    example: "1990-07-04T21:41:39Z"
                    format: date-time
                updated_at:
                    type: string
                    description: The time that the instance was last modified.
                    example: "1982-03-17T12:09:06Z"
                    format: date-time
            description: An instance of pgEdge Postgres running on a host. (default view)
            example:
                connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                created_at: "1974-10-01T05:04:45Z"
                error: 'failed to get patroni status: connection refused'
                host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                node_name: n1
                postgres:
                    patroni_paused: false
                    patroni_state: initializing new cluster
                    pending_restart: false
                    role: primary
                    version: "17.5"
                spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                state: backing_up
                status_updated_at: "1984-08-18T00:36:49Z"
                updated_at: "1981-11-12T00:59:51Z"
            required:
                - id
                - host_id
                - node_name
                - created_at
                - updated_at
                - state
        InstanceResponseBodyCollection:
            type: array
            items:
                $ref: '#/components/schemas/InstanceResponseBody'
            description: InstanceCollectionResponseBody is the result type for an array of InstanceResponseBody (default view)
            example:
                - connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                  created_at: "1991-01-18T08:21:24Z"
                  error: 'failed to get patroni status: connection refused'
                  host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  postgres:
                    patroni_paused: false
                    patroni_state: initializing new cluster
                    pending_restart: false
                    role: primary
                    version: "17.5"
                  spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                  state: modifying
                  status_updated_at: "1981-04-02T10:17:50Z"
                  updated_at: "1991-01-13T22:07:17Z"
                - connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                  created_at: "1991-01-18T08:21:24Z"
                  error: 'failed to get patroni status: connection refused'
                  host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  postgres:
                    patroni_paused: false
                    patroni_state: initializing new cluster
                    pending_restart: false
                    role: primary
                    version: "17.5"
                  spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                  state: modifying
                  status_updated_at: "1981-04-02T10:17:50Z"
                  updated_at: "1991-01-13T22:07:17Z"
                - connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                  created_at: "1991-01-18T08:21:24Z"
                  error: 'failed to get patroni status: connection refused'
                  host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  postgres:
                    patroni_paused: false
                    patroni_state: initializing new cluster
                    pending_restart: false
                    role: primary
                    version: "17.5"
                  spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                  state: modifying
                  status_updated_at: "1981-04-02T10:17:50Z"
                  updated_at: "1991-01-13T22:07:17Z"
                - connection_info:
                    hostname: i-0123456789abcdef.ec2.internal
                    ipv4_address: 10.24.34.0
                    port: 5432
                  created_at: "1991-01-18T08:21:24Z"
                  error: 'failed to get patroni status: connection refused'
                  host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                  id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                  node_name: n1
                  postgres:
                    patroni_paused: false
                    patroni_state: initializing new cluster
                    pending_restart: false
                    role: primary
                    version: "17.5"
                  spock:
                    read_only: "off"
                    subscriptions:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                    version: 4.10.0
                  state: modifying
                  status_updated_at: "1981-04-02T10:17:50Z"
                  updated_at: "1991-01-13T22:07:17Z"
        InstanceSpockStatus:
            type: object
            properties:
                read_only:
                    type: string
                    description: The current spock.readonly setting.
                    example: "off"
                subscriptions:
                    type: array
                    items:
                        $ref: '#/components/schemas/InstanceSubscription'
                    description: Status information for this instance's Spock subscriptions.
                    example:
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                        - name: sub_n1n2
                          provider_node: n2
                          status: down
                version:
                    type: string
                    description: The version of Spock for this instance.
                    example: 4.10.0
            description: Spock status information for a pgEdge instance.
            example:
                read_only: "off"
                subscriptions:
                    - name: sub_n1n2
                      provider_node: n2
                      status: down
                    - name: sub_n1n2
                      provider_node: n2
                      status: down
                version: 4.10.0
        InstanceSubscription:
            type: object
            properties:
                name:
                    type: string
                    description: The name of the subscription.
                    example: sub_n1n2
                provider_node:
                    type: string
                    description: The Spock node name of the provider for this subscription.
                    example: n2
                status:
                    type: string
                    description: The current status of the subscription.
                    example: down
            description: Status information for a Spock subscription.
            example:
                name: sub_n1n2
                provider_node: n2
                status: down
            required:
                - provider_node
                - name
                - status
        PgEdgeVersion:
            type: object
            properties:
                postgres_version:
                    type: string
                    description: The Postgres major version.
                    example: "16"
                spock_version:
                    type: string
                    description: The Spock major version.
                    example: "4"
            example:
                postgres_version: "16"
                spock_version: "4"
            required:
                - postgres_version
                - spock_version
        RestoreConfigSpec:
            type: object
            properties:
                repository:
                    $ref: '#/components/schemas/RestoreRepositorySpec'
                restore_options:
                    type: object
                    description: Additional options to use when restoring this database. If omitted, the database will be restored to the latest point in the given repository.
                    example:
                        set: 20250505-153628F
                        target: "123456"
                        type: xid
                    additionalProperties:
                        type: string
                        example: Qui id libero dignissimos voluptates est numquam.
                source_database_id:
                    type: string
                    description: The ID of the database to restore this database from.
                    example: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                source_database_name:
                    type: string
                    description: The name of the database in this repository. This database will be renamed to the database_name in the DatabaseSpec.
                    example: northwind
                source_node_name:
                    type: string
                    description: The name of the node to restore this database from.
                    example: n1
            example:
                repository:
                    azure_account: pgedge-backups
                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                    azure_endpoint: blob.core.usgovcloudapi.net
                    azure_key: YXpLZXk=
                    base_path: /backups
                    custom_options:
                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                    gcs_endpoint: localhost
                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                    s3_endpoint: s3.us-east-1.amazonaws.com
                    s3_key: AKIAIOSFODNN7EXAMPLE
                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                    s3_region: us-east-1
                    type: s3
                restore_options:
                    set: 20250505-153628F
                    target: "123456"
                    type: xid
                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                source_database_name: northwind
                source_node_name: n1
            required:
                - source_database_id
                - source_node_name
                - source_database_name
                - repository
        RestoreDatabaseRequest:
            type: object
            properties:
                restore_config:
                    $ref: '#/components/schemas/RestoreConfigSpec'
                target_nodes:
                    type: array
                    items:
                        type: string
                        example: Et exercitationem sequi saepe velit.
                    description: The nodes to restore. Defaults to all nodes if empty or unspecified.
                    example:
                        - n1
            example:
                restore_config:
                    repository:
                        azure_account: pgedge-backups
                        azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        azure_endpoint: blob.core.usgovcloudapi.net
                        azure_key: YXpLZXk=
                        base_path: /backups
                        custom_options:
                            s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                        gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        gcs_endpoint: localhost
                        gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                        id: f6b84a99-5e91-4203-be1e-131fe82e5984
                        s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                        s3_endpoint: s3.us-east-1.amazonaws.com
                        s3_key: AKIAIOSFODNN7EXAMPLE
                        s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                        s3_region: us-east-1
                        type: s3
                    restore_options:
                        set: 20250505-153628F
                        target: "123456"
                        type: xid
                    source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                    source_database_name: northwind
                    source_node_name: n1
                target_nodes:
                    - n1
            required:
                - restore_config
        RestoreDatabaseResponse:
            type: object
            properties:
                database:
                    $ref: '#/components/schemas/Database'
                node_tasks:
                    type: array
                    items:
                        $ref: '#/components/schemas/Task'
                    description: The tasks that will restore each database node.
                    example:
                        - completed_at: "2025-01-01T02:30:00Z"
                          created_at: "2025-01-01T01:30:00Z"
                          database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                          error: failed to connect to database
                          host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                          instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                          node_name: n1
                          parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                          status: pending
                          task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                          type: restore
                        - completed_at: "2025-01-01T02:30:00Z"
                          created_at: "2025-01-01T01:30:00Z"
                          database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                          error: failed to connect to database
                          host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                          instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                          node_name: n1
                          parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                          status: pending
                          task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                          type: restore
                        - completed_at: "2025-01-01T02:30:00Z"
                          created_at: "2025-01-01T01:30:00Z"
                          database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                          error: failed to connect to database
                          host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                          instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                          node_name: n1
                          parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                          status: pending
                          task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                          type: restore
                task:
                    $ref: '#/components/schemas/Task'
            example:
                database:
                    created_at: "2025-01-01T01:30:00Z"
                    id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    instances:
                        - connection_info:
                            hostname: i-0123456789abcdef.ec2.internal
                            ipv4_address: 10.24.34.0
                            port: 5432
                          created_at: "2008-04-05T03:29:38Z"
                          error: 'failed to get patroni status: connection refused'
                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                          node_name: n1
                          postgres:
                            patroni_paused: false
                            patroni_state: crashed
                            pending_restart: true
                            role: primary
                            version: "17.5"
                          spock:
                            read_only: "off"
                            subscriptions:
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                            version: 4.10.0
                          state: available
                          status_updated_at: "1989-01-18T08:35:28Z"
                          updated_at: "2003-08-09T22:13:38Z"
                        - connection_info:
                            hostname: i-0123456789abcdef.ec2.internal
                            ipv4_address: 10.24.34.0
                            port: 5432
                          created_at: "2008-04-05T03:29:38Z"
                          error: 'failed to get patroni status: connection refused'
                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                          node_name: n1
                          postgres:
                            patroni_paused: false
                            patroni_state: crashed
                            pending_restart: true
                            role: primary
                            version: "17.5"
                          spock:
                            read_only: "off"
                            subscriptions:
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                            version: 4.10.0
                          state: available
                          status_updated_at: "1989-01-18T08:35:28Z"
                          updated_at: "2003-08-09T22:13:38Z"
                    spec:
                        backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                        cpus: 500m
                        database_name: northwind
                        database_users:
                            - attributes:
                                - LOGIN
                                - CREATEDB
                                - CREATEROLE
                              db_owner: false
                              password: secret
                              roles:
                                - pgedge_superuser
                              username: admin
                            - attributes:
                                - LOGIN
                                - CREATEDB
                                - CREATEROLE
                              db_owner: false
                              password: secret
                              roles:
                                - pgedge_superuser
                              username: admin
                        extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                        memory: 500M
                        nodes:
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                        port: 5432
                        postgres_version: "17"
                        postgresql_conf:
                            max_connections: 1000
                        restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        spock_version: "4"
                    state: modifying
                    tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                    updated_at: "2025-01-01T02:30:00Z"
                node_tasks:
                    - completed_at: "2025-01-01T02:30:00Z"
                      created_at: "2025-01-01T01:30:00Z"
                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                      error: failed to connect to database
                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                      node_name: n1
                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                      status: pending
                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                      type: restore
                    - completed_at: "2025-01-01T02:30:00Z"
                      created_at: "2025-01-01T01:30:00Z"
                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                      error: failed to connect to database
                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                      node_name: n1
                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                      status: pending
                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                      type: restore
                    - completed_at: "2025-01-01T02:30:00Z"
                      created_at: "2025-01-01T01:30:00Z"
                      database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                      error: failed to connect to database
                      host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                      instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                      node_name: n1
                      parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                      status: pending
                      task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                      type: restore
                task:
                    completed_at: "2025-01-01T02:30:00Z"
                    created_at: "2025-01-01T01:30:00Z"
                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    error: failed to connect to database
                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    node_name: n1
                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                    status: pending
                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    type: restore
        RestoreRepositorySpec:
            type: object
            properties:
                azure_account:
                    type: string
                    description: The Azure account name for this repository. Only applies when type = 'azure'.
                    example: pgedge-backups
                azure_container:
                    type: string
                    description: The Azure container name for this repository. Only applies when type = 'azure'.
                    example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                azure_endpoint:
                    type: string
                    description: The optional Azure endpoint for this repository. Only applies when type = 'azure'.
                    example: blob.core.usgovcloudapi.net
                azure_key:
                    type: string
                    description: An optional Azure storage account access key to use for this repository. If not provided, pgbackrest will use the VM's managed identity.
                    example: YXpLZXk=
                base_path:
                    type: string
                    description: The base path within the repository to store backups. Required for type = 'posix' and 'cifs'.
                    example: /backups
                custom_options:
                    type: object
                    description: Additional options to apply to this repository.
                    example:
                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                    additionalProperties:
                        type: string
                        example: Voluptatem quia.
                gcs_bucket:
                    type: string
                    description: The GCS bucket name for this repository. Only applies when type = 'gcs'.
                    example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                gcs_endpoint:
                    type: string
                    description: The optional GCS endpoint for this repository. Only applies when type = 'gcs'.
                    example: localhost
                gcs_key:
                    type: string
                    description: Optional base64-encoded private key data. If omitted, pgbackrest will use the service account attached to the instance profile.
                    example: ZXhhbXBsZSBnY3Mga2V5Cg==
                id:
                    type: string
                    description: The unique identifier of this repository.
                    example: f6b84a99-5e91-4203-be1e-131fe82e5984
                s3_bucket:
                    type: string
                    description: The S3 bucket name for this repository. Only applies when type = 's3'.
                    example: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                s3_endpoint:
                    type: string
                    description: The optional S3 endpoint for this repository. Only applies when type = 's3'.
                    example: s3.us-east-1.amazonaws.com
                s3_key:
                    type: string
                    description: An optional AWS access key ID to use for this repository. If not provided, pgbackrest will use the default credential provider chain.
                    example: AKIAIOSFODNN7EXAMPLE
                s3_key_secret:
                    type: string
                    description: The corresponding secret for the AWS access key ID in s3_key.
                    example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                s3_region:
                    type: string
                    description: The region of the S3 bucket for this repository. Only applies when type = 's3'.
                    example: us-east-1
                type:
                    type: string
                    description: The type of this repository.
                    example: s3
                    enum:
                        - s3
                        - gcs
                        - azure
                        - posix
                        - cifs
            example:
                azure_account: pgedge-backups
                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                azure_endpoint: blob.core.usgovcloudapi.net
                azure_key: YXpLZXk=
                base_path: /backups
                custom_options:
                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                gcs_endpoint: localhost
                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                s3_endpoint: s3.us-east-1.amazonaws.com
                s3_key: AKIAIOSFODNN7EXAMPLE
                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                s3_region: us-east-1
                type: s3
            required:
                - type
        Task:
            type: object
            properties:
                completed_at:
                    type: string
                    description: The time when the task was completed.
                    example: "2025-01-01T02:30:00Z"
                    format: date-time
                created_at:
                    type: string
                    description: The time when the task was created.
                    example: "2025-01-01T01:30:00Z"
                    format: date-time
                database_id:
                    type: string
                    description: The database ID of the task.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                error:
                    type: string
                    description: The error message if the task failed.
                    example: failed to connect to database
                host_id:
                    type: string
                    description: The ID of the host that the task is running on.
                    example: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                    format: uuid
                instance_id:
                    type: string
                    description: The ID of the instance that the task is operating on.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                node_name:
                    type: string
                    description: The name of the node that the task is operating on.
                    example: n1
                parent_id:
                    type: string
                    description: The parent task ID of the task.
                    example: 439eb515-e700-4740-b508-4a3f12ec4f83
                    format: uuid
                status:
                    type: string
                    description: The status of the task.
                    example: pending
                    enum:
                        - pending
                        - running
                        - completed
                        - failed
                        - unknown
                task_id:
                    type: string
                    description: The unique ID of the task.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                type:
                    type: string
                    description: The type of the task.
                    example: restore
            example:
                completed_at: "2025-01-01T02:30:00Z"
                created_at: "2025-01-01T01:30:00Z"
                database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                error: failed to connect to database
                host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                node_name: n1
                parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                status: pending
                task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                type: restore
            required:
                - database_id
                - task_id
                - created_at
                - type
                - status
        TaskLog:
            type: object
            properties:
                database_id:
                    type: string
                    description: The database ID of the task log.
                    example: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    format: uuid
                entries:
                    type: array
                    items:
                        $ref: '#/components/schemas/TaskLogEntry'
                    description: Entries in the task log.
                    example:
                        - fields:
                            option.enabled: true
                            status: creating
                          message: task started
                          timestamp: "2025-05-29T15:43:13Z"
                        - fields:
                            option.enabled: true
                            status: creating
                          message: task started
                          timestamp: "2025-05-29T15:43:13Z"
                        - fields:
                            option.enabled: true
                            status: creating
                          message: task started
                          timestamp: "2025-05-29T15:43:13Z"
                        - fields:
                            option.enabled: true
                            status: creating
                          message: task started
                          timestamp: "2025-05-29T15:43:13Z"
                last_entry_id:
                    type: string
                    description: The ID of the last entry in the task log.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                task_id:
                    type: string
                    description: The unique ID of the task log.
                    example: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    format: uuid
                task_status:
                    type: string
                    description: The status of the task.
                    example: pending
                    enum:
                        - pending
                        - running
                        - completed
                        - failed
                        - unknown
            example:
                database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                entries:
                    - fields:
                        option.enabled: true
                        status: creating
                      message: task started
                      timestamp: "2025-05-29T15:43:13Z"
                    - fields:
                        option.enabled: true
                        status: creating
                      message: task started
                      timestamp: "2025-05-29T15:43:13Z"
                last_entry_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                task_status: pending
            required:
                - database_id
                - task_id
                - task_status
                - entries
        TaskLogEntry:
            type: object
            properties:
                fields:
                    type: object
                    description: Additional fields for the log entry.
                    example:
                        option.enabled: true
                        status: creating
                    additionalProperties: true
                message:
                    type: string
                    description: The log message.
                    example: task started
                timestamp:
                    type: string
                    description: The timestamp of the log entry.
                    example: "2025-05-29T15:43:13Z"
                    format: date-time
            example:
                fields:
                    option.enabled: true
                    status: creating
                message: task started
                timestamp: "2025-05-29T15:43:13Z"
            required:
                - timestamp
                - message
        UpdateDatabaseRequest:
            type: object
            properties:
                spec:
                    $ref: '#/components/schemas/DatabaseSpec'
                tenant_id:
                    type: string
                    description: Unique identifier for the databases's owner.
                    example: 8210ec10-2dca-406c-ac4a-0661d2189954
                    format: uuid
            example:
                spec:
                    backup_config:
                        repositories:
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                            - azure_account: pgedge-backups
                              azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              azure_endpoint: blob.core.usgovcloudapi.net
                              azure_key: YXpLZXk=
                              base_path: /backups
                              custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                storage-upload-chunk-size: 5MiB
                              gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              gcs_endpoint: localhost
                              gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                              id: f6b84a99-5e91-4203-be1e-131fe82e5984
                              retention_full: 2
                              retention_full_type: count
                              s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                              s3_endpoint: s3.us-east-1.amazonaws.com
                              s3_key: AKIAIOSFODNN7EXAMPLE
                              s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                              s3_region: us-east-1
                              type: s3
                        schedules:
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                            - cron_expression: 0 6 * * ?
                              id: daily-full-backup
                              type: full
                    cpus: 500m
                    database_name: northwind
                    database_users:
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                        - attributes:
                            - LOGIN
                            - CREATEDB
                            - CREATEROLE
                          db_owner: false
                          password: secret
                          roles:
                            - pgedge_superuser
                          username: admin
                    extra_volumes:
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                        - destination_path: /backups/container
                          host_path: /Users/user/backups/host
                    memory: 500M
                    nodes:
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        - backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                          cpus: 500m
                          extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                          host_ids:
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                            - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          memory: 500M
                          name: n1
                          port: 5432
                          postgres_version: "17"
                          postgresql_conf:
                            max_connections: 1000
                          restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                    port: 5432
                    postgres_version: "17"
                    postgresql_conf:
                        max_connections: 1000
                    restore_config:
                        repository:
                            azure_account: pgedge-backups
                            azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            azure_endpoint: blob.core.usgovcloudapi.net
                            azure_key: YXpLZXk=
                            base_path: /backups
                            custom_options:
                                s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                            gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            gcs_endpoint: localhost
                            gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                            id: f6b84a99-5e91-4203-be1e-131fe82e5984
                            s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                            s3_endpoint: s3.us-east-1.amazonaws.com
                            s3_key: AKIAIOSFODNN7EXAMPLE
                            s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                            s3_region: us-east-1
                            type: s3
                        restore_options:
                            set: 20250505-153628F
                            target: "123456"
                            type: xid
                        source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                        source_database_name: northwind
                        source_node_name: n1
                    spock_version: "4"
                tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
        UpdateDatabaseResponse:
            type: object
            properties:
                database:
                    $ref: '#/components/schemas/Database'
                task:
                    $ref: '#/components/schemas/Task'
            example:
                database:
                    created_at: "2025-01-01T01:30:00Z"
                    id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    instances:
                        - connection_info:
                            hostname: i-0123456789abcdef.ec2.internal
                            ipv4_address: 10.24.34.0
                            port: 5432
                          created_at: "2008-04-05T03:29:38Z"
                          error: 'failed to get patroni status: connection refused'
                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                          node_name: n1
                          postgres:
                            patroni_paused: false
                            patroni_state: crashed
                            pending_restart: true
                            role: primary
                            version: "17.5"
                          spock:
                            read_only: "off"
                            subscriptions:
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                            version: 4.10.0
                          state: available
                          status_updated_at: "1989-01-18T08:35:28Z"
                          updated_at: "2003-08-09T22:13:38Z"
                        - connection_info:
                            hostname: i-0123456789abcdef.ec2.internal
                            ipv4_address: 10.24.34.0
                            port: 5432
                          created_at: "2008-04-05T03:29:38Z"
                          error: 'failed to get patroni status: connection refused'
                          host_id: de3b1388-1f0c-42f1-a86c-59ab72f255ec
                          id: a67cbb36-c3c3-49c9-8aac-f4a0438a883d
                          node_name: n1
                          postgres:
                            patroni_paused: false
                            patroni_state: crashed
                            pending_restart: true
                            role: primary
                            version: "17.5"
                          spock:
                            read_only: "off"
                            subscriptions:
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                                - name: sub_n1n2
                                  provider_node: n2
                                  status: down
                            version: 4.10.0
                          state: available
                          status_updated_at: "1989-01-18T08:35:28Z"
                          updated_at: "2003-08-09T22:13:38Z"
                    spec:
                        backup_config:
                            repositories:
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                                - azure_account: pgedge-backups
                                  azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  azure_endpoint: blob.core.usgovcloudapi.net
                                  azure_key: YXpLZXk=
                                  base_path: /backups
                                  custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    storage-upload-chunk-size: 5MiB
                                  gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  gcs_endpoint: localhost
                                  gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                  id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                  retention_full: 2
                                  retention_full_type: count
                                  s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                  s3_endpoint: s3.us-east-1.amazonaws.com
                                  s3_key: AKIAIOSFODNN7EXAMPLE
                                  s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                  s3_region: us-east-1
                                  type: s3
                            schedules:
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                                - cron_expression: 0 6 * * ?
                                  id: daily-full-backup
                                  type: full
                        cpus: 500m
                        database_name: northwind
                        database_users:
                            - attributes:
                                - LOGIN
                                - CREATEDB
                                - CREATEROLE
                              db_owner: false
                              password: secret
                              roles:
                                - pgedge_superuser
                              username: admin
                            - attributes:
                                - LOGIN
                                - CREATEDB
                                - CREATEROLE
                              db_owner: false
                              password: secret
                              roles:
                                - pgedge_superuser
                              username: admin
                        extra_volumes:
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                            - destination_path: /backups/container
                              host_path: /Users/user/backups/host
                        memory: 500M
                        nodes:
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                            - backup_config:
                                repositories:
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                    - azure_account: pgedge-backups
                                      azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      azure_endpoint: blob.core.usgovcloudapi.net
                                      azure_key: YXpLZXk=
                                      base_path: /backups
                                      custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                        storage-upload-chunk-size: 5MiB
                                      gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      gcs_endpoint: localhost
                                      gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                      id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                      retention_full: 2
                                      retention_full_type: count
                                      s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                      s3_endpoint: s3.us-east-1.amazonaws.com
                                      s3_key: AKIAIOSFODNN7EXAMPLE
                                      s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                      s3_region: us-east-1
                                      type: s3
                                schedules:
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                                    - cron_expression: 0 6 * * ?
                                      id: daily-full-backup
                                      type: full
                              cpus: 500m
                              extra_volumes:
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                                - destination_path: /backups/container
                                  host_path: /Users/user/backups/host
                              host_ids:
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                                - de3b1388-1f0c-42f1-a86c-59ab72f255ec
                              memory: 500M
                              name: n1
                              port: 5432
                              postgres_version: "17"
                              postgresql_conf:
                                max_connections: 1000
                              restore_config:
                                repository:
                                    azure_account: pgedge-backups
                                    azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    azure_endpoint: blob.core.usgovcloudapi.net
                                    azure_key: YXpLZXk=
                                    base_path: /backups
                                    custom_options:
                                        s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                    gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    gcs_endpoint: localhost
                                    gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                    id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                    s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                    s3_endpoint: s3.us-east-1.amazonaws.com
                                    s3_key: AKIAIOSFODNN7EXAMPLE
                                    s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                    s3_region: us-east-1
                                    type: s3
                                restore_options:
                                    set: 20250505-153628F
                                    target: "123456"
                                    type: xid
                                source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                                source_database_name: northwind
                                source_node_name: n1
                        port: 5432
                        postgres_version: "17"
                        postgresql_conf:
                            max_connections: 1000
                        restore_config:
                            repository:
                                azure_account: pgedge-backups
                                azure_container: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                azure_endpoint: blob.core.usgovcloudapi.net
                                azure_key: YXpLZXk=
                                base_path: /backups
                                custom_options:
                                    s3-kms-key-id: 1234abcd-12ab-34cd-56ef-1234567890ab
                                gcs_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                gcs_endpoint: localhost
                                gcs_key: ZXhhbXBsZSBnY3Mga2V5Cg==
                                id: f6b84a99-5e91-4203-be1e-131fe82e5984
                                s3_bucket: pgedge-backups-9f81786f-373b-4ff2-afee-e054a06a96f1
                                s3_endpoint: s3.us-east-1.amazonaws.com
                                s3_key: AKIAIOSFODNN7EXAMPLE
                                s3_key_secret: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
                                s3_region: us-east-1
                                type: s3
                            restore_options:
                                set: 20250505-153628F
                                target: "123456"
                                type: xid
                            source_database_id: 6c8e43ee-26ea-47b8-a8f8-89897e0137bd
                            source_database_name: northwind
                            source_node_name: n1
                        spock_version: "4"
                    state: modifying
                    tenant_id: 8210ec10-2dca-406c-ac4a-0661d2189954
                    updated_at: "2025-01-01T02:30:00Z"
                task:
                    completed_at: "2025-01-01T02:30:00Z"
                    created_at: "2025-01-01T01:30:00Z"
                    database_id: 02f1a7db-fca8-4521-b57a-2a375c1ced51
                    error: failed to connect to database
                    host_id: 2e52dcde-86d8-4f71-b58e-8dc3a10c936a
                    instance_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    node_name: n1
                    parent_id: 439eb515-e700-4740-b508-4a3f12ec4f83
                    status: pending
                    task_id: 3c875a27-f6a6-4c1c-ba5f-6972fb1fc348
                    type: restore
        VersionInfo:
            type: object
            properties:
                arch:
                    type: string
                    description: The CPU architecture of the API server.
                    example: amd64
                revision:
                    type: string
                    description: The VCS revision of the API server.
                    example: abc123
                revision_time:
                    type: string
                    description: The timestamp associated with the revision.
                    example: "2025-01-01T01:30:00Z"
                    format: date-time
                version:
                    type: string
                    description: The version of the API server.
                    example: 1.0.0
            example:
                arch: amd64
                revision: abc123
                revision_time: "2025-01-01T01:30:00Z"
                version: 1.0.0
            required:
                - version
                - revision
                - revision_time
                - arch
tags:
    - name: Cluster
    - name: Database
    - name: Host
    - name: System
